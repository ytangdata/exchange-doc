# 交易所 API 文档

## 说明
测试环境接口地址: http://dev-api.whaletrade.cn:9999
测试环境WS地址: ws://dev-api.whaletrade.cn:9999

返回均为json格式，响应头中code为错误代码，X-Auth-Token(用户注册、用户登录两接口)为用户token，后续/u路径的接口请求头中必须设置X-Auth-Token

极验相关：api/v1/captcha/preprocess、api/v1/captcha/validate以及几个需要传入captcha参数的接口要保持session一致。因此：

1)用户登录前调用极验：
api/v1/captcha/validate接口和几个需要传入captcha参数的接口要在请求头中设置X-Auth-Token，可以使用api/v1/captcha/preprocess接口返回的响应头中的X-Auth-Token值。

2)用户登录后调用极验：
api/v1/captcha/preprocess、api/v1/captcha/validate以及几个需要传入captcha参数的接口，都要在请求头中设置X-Auth-Token, 使用用户注册或登录接口返回的响应头中的X-Auth-Token值。

## API列表

### 用户注册
```
POST exchange-api/v1/user/register
```

#### 参数说明
| 参数          | 必填 | 类型    | 说明                         |
| -----------   | ---- |-----  | ---------------------------- |
| channel       | 是   | String | 渠道码                        |
| mobile        | 是   | String | 手机号                        |
| vcode         | 是   | String | 验证码                        |
| loginPass     | 是   | String | 登录密码                      |
| deviceName    | 否   | String | 设备名                        |
| deviceType    | 否   | String | 设备类型                      |
| deviceId      | 否   | String | 设备号                        |
| inviteCode    | 否   | String | 邀请码                        |
| inviterMobile | 否   | String | 邀请手机号                    |

#### 返回说明
```
{
    "data": {
        "id": 1,
        "nickName": "",
        "headImage": "",
        "mobile": "",
        "inviteCode": "",
        "registerTime": null,
        "channelCode": "",
        "channelName": ""
    }
}
```

#### 字段说明
| 字段              |  说明                     |
| -----------      |  ----------------------  |
| id               | 用户id                    |
| nickName         | 用户昵称                   |
| headImage        | 头像链接                   |
| mobile           | 手机号                    |
| inviteCode       | 邀请码                     |
| registerTime     | 注册时间                    |
| channelCode      | 渠道码                      |
| channelName      | 渠道名                      |

### 用户登录
```
POST exchange-api/v1/user/login?remember-me=1
```

#### 参数说明
1）普通登录(mobile + password/vcode)
| 参数         | 必填                | 类型    | 说明                         |
| ----------- | -------------------|-----   | ---------------------------- |
| username    | 是                  | String | 用户名                        |
| password    | 与vcode二选一        | String | 登录密码                      |
| captcha     | password登录时此项必填| String | 极验校验码                     |
| vcode       | 与password二选一     | String | 验证码                        |
2）闪验一键登录(mobile)
| 参数         | 必填                | 类型    | 说明                         |
| ----------- | -------------------|-----   | ---------------------------- |
| appId       | 是                  | String | 闪验sdk返回                    |
| accessToken | 是                  | String | 闪验sdk返回                    |
| telecom     | 是                  | String | 闪验sdk返回                    |
| timestamp   | 是                  | String | 闪验sdk返回                    |
| randoms     | 是                  | String | 闪验sdk返回                    |
| version     | 是                  | String | 闪验sdk返回                    |
| device      | 是                  | String | 闪验sdk返回                    |
| sign        | 是                  | String | 闪验sdk返回                    |
3）登录共有参数
| 参数         | 必填                | 类型    | 说明                         |
| ----------- | -------------------|-----   | ---------------------------- |
| channel     | 是                  | String | 渠道码                        |
| deviceName  | 否                  | String | 设备名                        |
| deviceType  | 否                  | String | 设备类型                      |
| deviceId    | 否                  | String | 设备号                        |
| inviteCode  | 否                  | String | 邀请码                        |

注：选择1）或2）登录方式，3）为登录时的共有参数

#### 返回说明
无

### 用户退出
```
POST exchange-api/v1/user/logout
```

#### 返回说明
无

### 极验初始化
```
GET exchange-api/v1/captcha/preprocess
```

#### 参数说明
| 参数         | 必填 | 类型    | 说明                         |
| ----------- | ---- |-----  | ---------------------------- |
| username    | 是   | String | 用户名                        |
| deviceType  | 是   | String | 设备类型                      |

#### 返回说明
```
{
    "data": {
        "success": 1,
        "challenge": "892987ddffaa4a4ba47adeabf69898f5",
        "gt": "f1172a378a18ac7c7a1ddec29f3ebc27"
    }
}
```

### 极验二次验证
```
POST exchange-api/v1/captcha/validate
```

#### 参数说明
| 参数                | 必填 | 类型    | 说明                         |
| -----------        | ---- |-----   | ---------------------------- |
| geetest_challenge  | 是   | String | 极验验证二次验证表单数据 chllenge |
| geetest_validate   | 是   | String | 极验验证二次验证表单数据 validate |
| geetest_seccode    | 是   | String | 极验验证二次验证表单数据 seccode  |
| username           | 是   | String | 用户名                        |
| deviceType         | 是   | String | 设备类型                      |

#### 返回说明
```
{
    "data": {
        "validateResult": true,
        "captcha": ""
    }
}
```

### 修改登录密码
```
PUT exchange-api/v1/u/user/login_pass
```

#### 参数说明
| 参数         | 必填 | 类型    | 说明                         |
| ----------- | ---- |-----  | ---------------------------- |
| vcode       | 是   | String | 验证码                        |
| loginPass   | 是   | String | 新登录密码                     |

#### 返回说明
无

### 设置邀请人

```
PUT exchange-api/v1/u/inviter
```

#### 参数说明

| 参数         | 必填 | 类型   | 说明       |
| ------------ | ---- | ------ | ---------- |
| inviteCode   | 否   | String | 邀请码     |
| inviteMobile | 否   | String | 邀请人手机 |

注：邀请码/邀请人手机至少输入一项，如两项都输入则忽略邀请人手机。

#### 返回说明

无

### 用户明细
```
GET exchange-api/v1/u/user/detail
```

#### 返回说明
```
{
    "data": {
        "customer": {
            "id": 1,
            "nickName": "",
            "headImage": "",
            "mobile": "",
            "inviteCode": "",
            "registerTime": null,
            "channelCode": "",
            "channelName": ""
        },
        "customerSwitch": {
            "allowDeposit": false,
            "allowWithdraw": false,
            "allowTrade": false,
            "openApi": false
        },
        "whaleSwitch": {
            "cardNo": 123456789,
            "allowQuery": false,
            "openCollect": false
        },
        "hasLoginPass": true,
        "hasCapitalPass": true
    }
}
```

### 用户登录历史
```
GET exchange-api/v1/u/user/login_history
```

#### 参数说明
| 参数         | 必填 | 类型      | 说明                         |
| ----------- | ---- |--------- | ---------------------------- |
| page        | 否   | Integer  | 当前页码                       |
| size        | 否   | Integer  | 显示条数，10 - 100             |

#### 返回说明
```
{
    "data": {
        "items": [
            {
                "time": 222333444,
                "client": "pc",
                "ip": "180.167.212.158",
                "deviceName": "web",
                "deviceId": "Chrome",
                "result": "success"
            },...
        ],
        "totalPages": 1,
        "totalItems": 30
    }
}
```

#### 字段说明
| 字段              |  说明                             |
| -----------      |  ------------------------------  |
| time             | 登录时间                           |
| client           | 设备(pc/Mac/android/iOS/unknown)  |
| ip               | 登录ip                             |
| deviceName       | 设备名                             |
| deviceId         | 设备id                             |
| result           | 登录结果(success/failure)           |

### 交易账户列表(包括账户列表和折算总资产)
```
GET exchange-api/v1/u/accounts/total
```

#### 返回说明
```
{
    "data": {
        "accountList": [
            {
                "coin": "BTC",
                "balance": "0",
                "balanceValue": {
                    "usdt": 1000,
                    "usd": 7000,
                    "cny": 1000,
                    "jpy": 300
                },
                "frozen": "0",
                "frozenValue": {
                    "usdt": 1000,
                    "usd": 7000,
                    "cny": 1000,
                    "jpy": 300
                },
                "avail": "0",
                "availValue": {
                    "usdt": 1000,
                    "usd": 7000,
                    "cny": 1000,
                    "jpy": 300
                },
                "state": "normal"
            }
        ],
        "total": {
            "usdt": 1000,
            "usd": 7000,
            "cny": 1000,
            "jpy": 300
        }
    }
}
```

### 创建委托
```
POST exchange-api/v1/u/orders
```

#### 参数说明
| 参数         | 必填 | 类型    | 说明                         |
| ----------- | ---- |-----  | ---------------------------- |
| coinPairId  | 是   | Long   | 货币对id                     |
| unitPrice   | 是   | String | 委托单价                      |
| num         | 是   | String | 委托数量                      |
| direction   | 是   | String | 委托方向(buy/sell)            |

#### 返回说明
```
{
    "data": {
        "id": 1,
        "coinPair": {
            "id": 1,
            "productCoin": {
                "id": 1,
                "coin": "BTC",
                "stride": "0",
                "minAmount": "0"
            },
            "currencyCoin": {
                "id": 1,
                "coin": "USDT"
            },
            "openState": true,
            "productRate": "0",
            "currencyRate": "0",
            "priceScale": 2
        },
        "entrustTime": "2018-12-29T06:02:15.577+0000",
        "direction": "buy",
        "entrustPrice": "0",
        "amount": "0",
        "dealtAmount": "0",
        "canceledAmount": "0",
        "entrustState": "released"
    }
}
```

### 撤销委托
```
DELETE exchange-api/v1/u/orders/{id}
```

#### 参数说明
| 参数         | 必填 | 类型    | 说明                         |
| ----------- | ---- |-----  | ---------------------------- |
| id          | 是   | long   | 委托单id                     |

#### 返回说明
无

### 委托列表
```
GET exchange-api/v1/u/orders
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明                         |
| ----------- | ---- |-----         | ---------------------------- |
| coin        | 否   | String        | 商品币code                   |
| currencyId  | 否   | Long          | 货币币id                     |
| direction   | 否   | String        | 委托方向                      |
| states      | 否   | List\<String> | 委托单状态                     |
| page        | 否   | Integer       | 当前页码                       |
| size        | 否   | Integer       | 显示条数，10 - 100             |

#### 返回说明
```
{
    "data": [
        {
            "id": 1,
            "entrustTime": "2018-12-29T06:02:14.955+0000",
            "handleTime": "2018-12-29T06:02:14.955+0000",
            "coinPair": {
                "id": 1,
                "productCoin": {
                    "id": 1,
                    "coin": "BTC",
                    "stride": "0",
                    "minAmount": "0"
                },
                "currencyCoin": {
                    "id": 1,
                    "coin": "USDT"
                },
                "openState": true,
                "productRate": "0",
                "currencyRate": "0",
                "priceScale": 2
            },
            "direction": "buy",
            "entrustPrice": "0",
            "entrustAmount": "0",
            "dealtAmount": "0",
            "cancelledAmount": "0",
            "entrustState": "released",
            "fee": "0",
            "tradeTotalPrice": "0",
            "tradeFlowPrice": "0"
        }
    ]
}
```
### 当前委托列表
```
GET exchange-api/v1/u/orders/processing
```
#### 参数说明
| 参数         | 必填 | 类型           | 说明                         |
| ----------- | ---- |-----         | ---------------------------- |
| coin        | 否   | String        | 商品币code                   |
| currency    | 否   | String        | 货币币code                   |
| direction   | 否   | String        | 委托方向                      |
| page        | 否   | Integer       | 当前页码                       |
| size        | 否   | Integer       | 显示条数，10 - 100             |
#### 返回说明
```
{
    "data": [
        {
            "id": 1,
            "entrustTime": "2018-12-29T06:02:14.955+0000",
            "handleTime": "2018-12-29T06:02:14.955+0000",
            "coinPair": {
                "id": 1,
                "productCoin": {
                    "id": 1,
                    "coin": "BTC",
                    "stride": "0",
                    "minAmount": "0"
                },
                "currencyCoin": {
                    "id": 1,
                    "coin": "USDT"
                },
                "openState": true,
                "productRate": "0",
                "currencyRate": "0",
                "priceScale": 2
            },
            "direction": "buy",
            "entrustPrice": "0",
            "entrustAmount": "0",
            "dealtAmount": "0",
            "cancelledAmount": "0",
            "entrustState": "released",
            "fee": "0",
            "tradeTotalPrice": "0",
            "tradeFlowPrice": "0"
        }
    ]
}
```

### 历史委托列表
```
GET /exchange-history-api/v1/u/orders/list
```
#### 参数说明
| 参数         | 必填 | 类型           | 说明                         |
| ----------- | ---- |-----         | ---------------------------- |
| coin        | 否   | String        | 商品币                       |
| currency    | 否   | String        | 货币币                       |
| direction   | 否   | String        | 委托方向                      |
| states      | 否   | List\<String> | 委托单状态(finished、canceled、failed)|
| page        | 否   | Integer       | 当前页码                       |
| size        | 否   | Integer       | 显示条数，10 - 100             |
#### 返回说明
```
{
    "items": [
        {
            "coinPair": "BTC/USDT",
            "entrustTime": "2019-05-24T01:39:28.000+0000",
            "direction": "buy",
            "unitPrice": "4028",
            "amount": "0.1",
            "dealtAmount": "0.1",
            "canceledAmount": "0",
            "entrustState": "finished",
            "handleTime": "2019-05-24T04:43:31.000+0000",
            "tradeTotalFee": "0.00005",
            "tradeTotalPrice": "402.75",
            "tradeFlowPrice": "4027.5"
        }
    ],
    "totalPages": 1,
    "totalItems": 1
}
```

### 入币
```
POST exchange-api/v1/u/whale/deposit
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明                         |
| ----------- | ---- |-----         | ---------------------------- |
| coin        | 是   | String        | 币种                         |
| transferNum | 是   | String        | 划转数目                      |

#### 返回说明
```
{
    "data": {
        "id": 1,
        "transferType": "deposit",
        "coin": "BTC",
        "transferNum": "100",
        "dealBank": "whale",
        "dealCardNo": "11111",
        "requestNo": "1789279909",
        "requestTime": "2018-12-29T06:02:27.085+0000",
        "responseNo": null,
        "responseTime": null,
        "state": "processing"
    }
}
```

### 提币
```
POST exchange-api/v1/u/whale/withdraw
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明                         |
| ----------- | ---- |-----         | ---------------------------- |
| coin        | 是   | String        | 币种                         |
| transferNum | 是   | String        | 划转数目                      |

#### 返回说明
```
{
    "data": {
        "id": 1,
        "transferType": "withdraw",
        "coin": "BTC",
        "transferNum": "100",
        "dealBank": "whale",
        "dealCardNo": "11111",
        "requestNo": "1789279909",
        "requestTime": "2018-12-29T06:02:27.085+0000",
        "responseNo": null,
        "responseTime": null,
        "state": "processing"
    }
}
```

### 小鲸库通用配置
```
GET exchange-api/v1/whale/common
```

#### 返回说明
```
{
    "data": ...
}
```

### 入提币列表
```
GET exchange-api/v1/u/bank/flows
```

#### 参数说明
| 参数         | 必填 | 类型             | 说明                         |
| ----------- | ---- |---------------- | ---------------------------- |
| coin        | 否   | String          | 币种                         |
| types       | 否   | List\<String>   | 流水类型                      |
| states      | 否   | List\<String>   | 流水状态(success/processing/failure)|
| page        | 否   | Integer         | 当前页码                       |
| size        | 否   | Integer         | 显示条数，10 - 100             |

#### 返回说明
```
{
    "data": {
        "items": [
            {
                "id": 1,
                "transferType": "withdraw",
                "coin": "BTC",
                "transferNum": "100",
                "dealBank": "whale",
                "dealCardNo": "11111",
                "requestNo": "1789279909",
                "requestTime": "2018-12-29T06:02:27.085+0000",
                "responseNo": null,
                "responseTime": null,
                "state": "processing"
            }
        ],
        "totalPages": 2,
        "totalItems": 30
    }
}
```

### 查询深度信息
```
GET exchange-api/v1/deep/info/{id}
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明                         |
| ----------- | ---- |-------------  | ---------------------------- |
| id          | 是   | long          | 货币对id                       |

#### 返回说明
```
{
    "data": [
        {
            "timestamp": "2018-12-29T06:02:24.602+0000",
            "deepNum": 1,
            "buyList": [
                {
                    "num": "0",
                    "price": "0",
                    "total": "0"
                }
            ],
            "sellList": [
                {
                    "num": "0",
                    "price": "0",
                    "total": "0"
                }
            ]
        }
    ]
}
```

### 成交记录
```
GET exchange-api/v1/trade/flows
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明                         |
| -----------  | ---- |-------------  | ---------------------------- |
| coinPairId   | 是   | String        | 货币对ID                      |
| size         | 否   | Integer       | 条数                          |

#### 返回说明
```
{
    "data": [
        {
            "time": "2019-03-28T02:18:35.000+0000",
            "direction": "buy",
            "unitPrice": "0.042129",
            "num": "0.1"
        },
        {
            "time": "2019-03-28T02:18:30.000+0000",
            "direction": "buy",
            "unitPrice": "0.042129",
            "num": "0.1"
        }...
    ]
}
```

### 市场状态
```
GET exchange-api/v1/market/info
```

#### 返回说明
```
{
    "data": {
        "enable": true
    }
}
```

### 发送注册验证码
```
POST exchange-api/v1/vcode/register
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明                         |
| ----------- | ---- |-------------  | ---------------------------- |
| channel     | 是   | String        | 渠道码                         |
| mobile      | 是   | String        | 手机号                         |
| captcha     | 是   | String        | 极验校验码                      |

#### 返回说明
无

### 发送登录验证码
```
POST exchange-api/v1/vcode/login
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明                         |
| ----------- | ---- |-------------  | ---------------------------- |
| channel     | 是   | String        | 渠道码                         |
| mobile      | 是   | String        | 手机号                         |
| captcha     | 是   | String        | 极验校验码                      |

#### 返回说明
无

### 发送其他验证码(非登录、注册时使用)
```
POST exchange-api/v1/vcode/other
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明                         |
| ----------- | ---- |-------------  | ---------------------------- |
| channel     | 是   | String        | 渠道码                         |
| mobile      | 是   | String        | 手机号                         |
| captcha     | 是   | String        | 极验校验码                      |

#### 返回说明
无

### 轮播图列表
```
GET exchange-api/v1/banners
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明                         |
| ----------- | ---- |-------------  | ---------------------------- |
| channel     | 是   | String        | 渠道码                        |
| category    | 否   | String        | 种类  start、alert、category  |
| bannerType  | 是   | String        | 类型    app、web、display     |

#### 返回说明
```
{
    "data": {
        "category": [
            {
                "id": 1,
                "bannerType": "app",
                "category": "category",
                "picUrl": "http://www.ytangdata.com/images/logo_03.png",
                "action": "action",
                "valid": true
            },
            {
                "id": 2,
                "bannerType": "app",
                "category": "category",
                "picUrl": "http://www.ytangdata.com/images/logo_03.png",
                "action": "action",
                "valid": false
            }
        ]
    }
}
```

### 货币列表
```
GET exchange-api/v1/currencies
```

#### 返回说明
```
{
    "data": [
        {
            "id": 1,
            "coin": "BTH"
        },
        {
            "id": 1,
            "coin": "ETC"
        }
    ]
}
```

### 币种信息
```
GET exchange-api/v1/coins
```

#### 参数说明
| 参数            | 必填 | 类型           | 说明                         |
| -----------    | ---- |-------------  | ---------------------------- |
| channel        | 否   | String         | 渠道码                        |

#### 返回说明
```
{
    "data": [
        {
            "code": "BTC",
            "name": "比特币",
            "scale": 8
        },
        {
            "code": "ETH",
            "name": "以太币",
            "scale": 18
        }
    ]
}
```

### 货币对列表
```
GET exchange-api/v1/coin_pairs
```

#### 参数说明
| 参数            | 必填 | 类型           | 说明                         |
| -----------    | ---- |-------------  | ---------------------------- |
| channel        | 是   | String         | 渠道码                        |
| currencyCoinId | 否   | Long           | 计价货币id                     |
| page           | 否   | Integer        | 当前页码                       |
| size           | 否   | Integer        | 显示条数，10 - 100             |

#### 返回说明
```
{
    "data": {
        "items": [
            {
                "id": 1,
                "productCoin": {
                    "id": 1,
                    "coin": "BTC",
                    "stride": "0",
                    "minAmount": "0"
                },
                "currencyCoin": {
                    "id": 1,
                    "coin": "USDT"
                },
                "openState": true,
                "productRate": "0",
                "currencyRate": "0",
                "priceScale": 2
            },
            {
                "id": 2,
                "productCoin": {
                    "id": 1,
                    "coin": "ETC",
                    "stride": "0",
                    "minAmount": "0"
                },
                "currencyCoin": {
                    "id": 1,
                    "coin": "USDT"
                },
                "openState": false,
                "productRate": "0",
                "currencyRate": "0",
                "priceScale": 2
            }
        ],
        "totalPages": 1,
        "totalItems": 30
    }
}
```

### 获取用户小鲸库账户列表(包括账户列表和折算总资产)
```
GET exchange-api/v1/u/whale/accounts
```

#### 返回说明
```
{
    "data": {
        "accountList": [
            {
                "coin": "BTC",
                "balance": "0",
                "balanceValue": {
                    "usdt": 1000,
                    "usd": 7000,
                    "cny": 1000,
                    "jpy": 300
                },
                "avail": "0",
                "availValue": {
                    "usdt": 1000,
                    "usd": 7000,
                    "cny": 1000,
                    "jpy": 300
                }
            }
        ],
        "total": {
            "usdt": 1000,
            "usd": 7000,
            "cny": 1000,
            "jpy": 300
        }
    }
}
```

### 发送验证码
```
POST exchange-api/v1/u/whale/vcode
```

### 获取实名信息(小鲸库)
```
GET exchange-api/v1/u/whale/realname
```

#### 返回说明
```
{
    "data": {
        "name": "王华",
        "certNo": "xxxxxx",
        "rnvLevel": 1,
        "rnvState": "ok"
    }
}
```

`state`为实名状态，目前有以下几种类型：

| state                     | 说明                           |
| --------------------------| ----------------------------- |
| under_review              | 认证中(针对用户申请的下一级实名认证)|
| ok                        | 已通过                         |
| rejected                  | 已拒绝                         |

#### 字段说明
| 字段              |  说明                     |
| -----------      |  ------------------------ |
| name             | 姓名(有可能为null)          |
| certNo           | 证件号                     |
| rnvLevel         | 实名等级(已经通过认证的)      |
| rnvState         | 实名状态                   |

### 获取实名信息
```
GET exchange-api/v1/u/realname
```

#### 返回说明
```
{
    "data": {
        "realName": "王华",
        "certNo": "xxxxxx",
        "level": 1,
        "state": "confirmed"
    }
}
```

`state`为实名状态，目前有以下几种类型：

| state                     | 说明        |
| --------------------------| ----------- |
| confirmed                 | 已认证       |
| processing                | 认证中(针对用户申请的下一级实名认证)|

#### 字段说明
| 字段              |  说明                     |
| -----------      |  ------------------------ |
| realName         | 姓名(有可能为null)          |
| certNo           | 证件号                     |
| level            | 实名等级(已经通过认证的)      |
| state            | 实名状态                   |

### 同步小鲸库实名信息
```
PUT exchange-api/v1/u/realname/sync
```

#### 返回说明
同上

### 运营商认证
```
POST exchange-api/v1/u/realname/three_factor
```

#### 参数说明
| 参数      | 必填 | 类型     | 说明            |
| -------- | ---- | ------- |--------------- |
| realName | 是   | String  | 用户姓名         |
| certNo   | 是   | String  | 身份证号         |

#### 返回说明
```
{
    "data": null
}
```

### 照片认证
```
POST exchange-api/v1/u/realname/photo
```

#### 参数说明
| 参数              | 必填 | 类型     | 说明             |
| ---------------  | ---- | ------- |---------------  |
| frontPhotoUrl    | 是   | String  | 证件照正面        |
| oppositePhotoUrl | 否   | String  | 证件照背面        |
| handheldPhotoUrl | 否   | String  | 手持证件照        |

#### 返回说明
```
{
    "data": null
}
```

### 人工认证
```
POST exchange-api/v1/u/realname/manual
```

#### 参数说明
| 参数              | 必填 | 类型     | 说明             |
| ---------------  | ---- | ------- |---------------  |
| realName         | 是   | String  | 用户姓名          |
| certNo           | 是   | String  | 身份证号          |
| frontPhotoUrl    | 是   | String  | 证件照正面        |
| oppositePhotoUrl | 否   | String  | 证件照背面        |
| handheldPhotoUrl | 否   | String  | 手持证件照        |

#### 返回说明
```
{
    "data": null
}
```

### Jumio认证
```
POST exchange-api/v1/u/realname/jumio
```

#### 参数说明
| 参数              | 必填 | 类型     | 说明             |
| ---------------  | ---- | ------- |---------------  |
| locale           | 是   | String  | 显示语言(zh-CN:简体，zh-HK:繁体，en:英文)|

#### 返回说明
```
{
    "data": {
        "redirectUrl": "https://ytangdata.netverify.com/web/v4/app?authorizationToken=eyJhbGciOiJIUzUxMiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAAAB3LPQvCMBCA4f9ycw9McpePbg4VujiUIjgml-smllpBEf-7revL835AX8cVWsOemIgPRIEbyH2FFiSaiTgpVs4FyWnCKGKQyBQnLkcjFhqQQaddPx_r_abLXv77VNRyEMIanUOSRFh8thhyNT7FKM77Dc_je970uRsv3dCfrvD9AXOVroSVAAAA.4Gs6w_2wZaE6jF65JIfsJrg07c0A6Q9DLy3JY9nQNyPGw4wA9TKCOofRQDP39AeGz2bNDgcCxJfKm8PnRAL55w&locale=en"
    }
}
```

### 获取入币、提币地址
```
GET exchange-api/v1/u/whale/addresses
```

#### 参数说明

| 参数          | 必填 | 类型     | 说明                          |
| -----------  | ----| ---------| ---------------------------- |
| coin         | 是   | String   | 币种                          |
| chain       | 否 | String   |erc20、omni |
| type         | 是   | String   | 地址类型 (deposit、withdrawal) |

注: coin为USDT时，chain如果未设置，默认为omni

#### 返回说明

```
{
    "data": [
        {
            "type": "deposit",
            "address": "37KiKjG3tAJcBL8FUoM7njn2Rs3Sc9ktDs",
            "coin": "USDT",
            "chain": "omni",
            "memo": "tom的地址"
        }
    ]
}
```

### 通用转账
```
POST exchange-api/v1/u/whale/transfer
```

#### 参数说明
| 参数           | 必填 | 类型    | 说明                        |
| --------------| ---- | -------| -------------------------- |
| coin          | 是   | String | 币种                         |
| address       | address与mobile二选一| String | 转账或提币地址  |
| mobile        | address与mobile二选一| String | 小鲸库用户手机号 |
| amount        | 是   | String  | 金额                        |
| vcode         | 是   | String  | 验证码                       |
| memo          | 否   | String  | 备注                         |
| chain         | 否   | String  | erc20、omni                 |

注: coin为USDT时，chain如果未设置，默认为omni

#### 返回说明

```
{
    "data": {
        "coin": "BTC",
        "amount": "0.0995",
        "fee": "0.0005",
        "memo": "备注",
        "createdAt": "2019-04-28T09:25:49.062+0000",
        "state": "pending",
        "txid": null
    }
}
```

### 提币
```
POST exchange-api/v1/u/whale/withdrawals
```

#### 参数说明
| 参数           | 必填 | 类型    | 说明                        |
| --------------| ---- | -------| -------------------------- |
| coin          | 是   | String | 币种                         |
| address       | 是   | String | 提币地址                      |
| amount        | 是   | String  | 金额                        |
| vcode         | 是   | String  | 验证码                       |
| chain         | 否   | String  | erc20、omni                 |
注: coin为USDT时，chain如果未设置，默认为omni

#### 返回说明
```
{
    "data": {
        "coin": "BTC",
        "amount": "0.0995",
        "fee": "0.0005",
        "state": "pending",
        "txid": null,
        "url": null,
        "createdAt": "2019-04-28T09:25:49.062+0000",
        "confirmedAt": null
    }
}
```

### 查询提币记录
```
GET exchange-api/v1/u/whale/withdrawals
```

#### 参数说明
| 参数      | 必填 | 类型       | 说明              |
| -------- | ---- |---------- | ---------------- |
| coin     | 否   | String    | 币种              |
| start    | 否   | Timestamp | 开始时间           |
| end      | 否   | Timestamp | 结束时间           |
| page     | 否   | Integer   | 当前页码           |
| size     | 否   | Integer   | 显示条数，10 - 100 |

#### 返回说明
```
{
    "data": {
        "items": [
            {
                "amount": "0.0995",
                "fee": "0.0005",
                "state": "pending",
                "txid": null,
                "coin": "BTC",
                "url": "xxxxxxxxxxxxx",
                "createdAt": "2019-04-28T09:25:49.062+0000",
                "confirmedAt": null
            },
            {
                "amount": "2.5",
                "fee": "0.0005",
                "state": "confirmed",
                "txid": "bb5adf531d84ec838710d23cc454aad33c5ac0056e5a0893764fba769dxxxxxxxxx",
                "coin": "BTC",
                "url": "xxxxxxxxxxxxx",
                "createdAt": "2019-04-27T09:25:49.062+0000",
                "confirmedAt": "2019-04-28T09:25:49.062+0000"
            }
        ],
        "totalPages": 1,
        "totalItems": 5
    }
}
```

`state`为提币状态，目前有以下几种类型：

| state                     | 说明                 |
| --------------------------| -------------------  |
| pending                   | 待处理                |
| pre_approved              | 预审通过              |
| approved                  | 管理员已批准该提币请求  |
| packaged                  | 提币请求已打包         |
| sent                      | 已发送                |
| confirmed                 | 已确认                |
| denied                    | 管理员已拒绝该提币请求  |

### 获取钱包流水记录
```
GET exchange-api/v1/u/whale/transactions
```

#### 参数说明
| 参数         | 必填 | 类型      | 说明                         |
| ----------- | ---- | ---------|----------------------------- |
| coin        | 否   | String    | 币种                          |
| type        | 否   | String    | 流水类型                      |
| start       | 否   | Timestamp | 起始时间                       |
| end         | 否   | Timestamp | 终止时间                       |
| cursor      | 否   | String    | 游标                          |
| size        | 否   | Integer   | 显示条数，10 - 100             |

#### 返回说明
```
{
    "data": {
        "items": [
            {
                "coin": "BTC",
                "type": "transfer",
                "typeZh": "转账",
                "amount": "0.00001314",
                "balance": "0.00053348",
                "createdAt": "2019-02-13T09:34:29.000+0000",
                "memo": "小鲸库（D大师）-公益"
            }
        ],
        "hasNext": true,
        "nextCursor": "VFJBTlNBQ1RJT046bUJQZHhZ"
    }
}
```

`type`为流水类型，目前有以下几种类型：

| type                      | 说明        |
| --------------------------| ----------- |
| deposit                   | 入币         |
| withdrawal                | 提币         |
| transfer                  | 转账         |

### 查询冻结记录
```
GET exchange-api/v1/u/whale/balance_freezes
```

#### 参数说明

| 参数      | 必填 | 类型      | 说明              |
| -------- | ---- |----------| ---------------- |
| coin     | 否   | String   | 币种code          |
| page     | 否   | Integer  | 当前页码           |
| size     | 否   | Integer  | 显示条数，10 - 100 |

#### 返回说明
```
{
    "data": {
        "items": [
            {
                "coin": "BTC",
                "amount": "1",
                "type": "withdrawal",
                "frozenAt": "2019-04-01T06:55:13.678+0000"
            }
        ],
        "totalPages": 1,
        "totalItems": 5
    }
}
```

`type`为业务类型，目前有以下几种类型：

| type                      | 说明        |
| --------------------------| ----------- |
| loan_ad                   | 借贷广告      |
| loan_request              | 借贷下单      |
| otc                       | 法币下单      |
| deposit                   | 入币         |
| withdrawal                | 提币         |
| wealth_product_purchase   | 理财产品购买  |

### 发布广告（法币）
```
POST exchange-api/v1/u/whale/otc/ads
```

#### 参数说明
| 参数              | 必填  | 类型        | 说明                          |
| -----------      | ---- | ----------- | ---------------------------- |
| type             | 是   | String       | 交易类型（buy/sale）            |
| coin             | 是   | String       | 商品币种                       |
| currency         | 是   | String       | 法币币种（CNY/USD/JPY）         |
| price            | 是   | BigDecimal   | 币价                          |
| amount           | 是   | BigDecimal   | 购买、出售数量                  |
| minAmount        | 否   | BigDecimal   | 单次交易最低数量                 |
| minCredit        | 否   | Integer      | 对手方最低信用分，0-100           |
| minutes          | 否   | Integer      | 有效期（单位：分钟），可选值为 10、30、60、360|
| comment          | 否   | String       | 备注，小于等于255个字符           |

#### 返回说明
```
{
    "data": {
        "myAd": true,
        "type": "buy",
        "coin": "BTC",
        "currency": "CNY",
        "price": "33200",
        "totalAmount": "0.0001",
        "remainingAmount": "0.0001",
        "minAmount": "0.0001",
        "minCredit": 60,
        "createdAt": "2019-04-09T08:18:13.434+0000",
        "expiresAt": "2019-04-09T10:18:13.434+0000",
        "state": "released",
        "advertiser": {
            "nickname": "du",
            "avatarUrl": "xxxxxxxxxxxxxxxxx",
            "credit": 73
        },
        "paymentOptions": null,
        "id": "LVvGv6Jw"
    }
}
```

#### 字段说明
| 字段              |  说明                     |
| -----------      |  ----------------------  |
| myAd             | 是否本人发布                |
| totalAmount      | 申购、出售数字币的总数量      |
| remainingAmount  | 申购、出售数字币的剩余数量     |
| createdAt        | 发布时间                   |
| expiresAt        | 过期时间                   |
| state            | 广告状态（released/finished/expired/canceled）|
| nickname         | 昵称                       |
| avatarUrl        | 头像链接                    |
| credit           | 信用分                      |
| paymentOptions   | 收款渠道列表，目前支持 wxpay（微信支付）、alipay（支付宝支付）、unionpay（银联支付）、paypal（贝宝支付）、webmoney |

### 获取已发布的广告列表（法币）
```
GET exchange-api/v1/u/whale/otc/ads
```

#### 参数说明
| 参数            | 必填 | 类型        | 说明                         |
| -------------- | ---- |----------- | ---------------------------- |
| type           | 否   | String     | 交易类型（buy/sale）            |
| coin           | 否   | String     | 商品币种                       |
| currency       | 否   | String     | 法币币种（CNY/USD/JPY）         |
| minCredit      | 否   | Integer    | 对手方最低信用分，0-100          |
| sort           | 否   | String     | 排序方式（smart/latest/price_low_to_high/price_high_to_low)|
| page           | 否   | Integer    | 当前页码                       |
| size           | 否   | Integer    | 显示条数，10 - 100             |

#### 返回说明
```
{
    "data": {
        "items": [
            {
                "myAd": false,
                "type": "sale",
                "coin": "BTC",
                "currency": "CNY",
                "price": "33626.292",
                "totalAmount": "1",
                "remainingAmount": "0.3",
                "minAmount": "0.1",
                "minCredit": null,
                "createdAt": "2018-11-22T09:11:22.000+0000",
                "expiresAt": "2018-11-22T15:11:22.000+0000",
                "state": "released",
                "advertiser": {
                    "nickname": "官方号",
                    "avatarUrl": "xxxxxxxxxxxxxxx",
                    "credit": 100
                },
                "paymentOptions": [
                    "alipay",
                    "unionpay",
                    "wxpay"
                ],
                "customerAvatarUrls": null,
                "numCompletedOrders": null,
                "id": "kwj7b8eq"
            }
        ],
        "totalPages": 1,
        "totalItems": 3
    }
}
```

#### 字段说明
| 字段                 |  说明             |
| -----------         |  --------------- |
| customerAvatarUrls  | 摘单人头像列表      |
| numCompletedOrders  | 已成交订单数量      |

### 获取自己发布的广告列表（法币）
```
GET exchange-api/v1/u/whale/otc/my_ads
```

#### 参数说明

| 参数         | 必填 | 类型              | 说明                         |
| ----------- | ---- |----------------- | ---------------------------- |
| states      | 否   | List\<String>     | 广告状态（released/finished/expired/canceled）|
| page        | 否   | Integer           | 当前页码                       |
| size        | 否   | Integer           | 显示条数，10 - 100             |

#### 返回说明
```
{
    "data": {
        "items": [
            {
                "myAd": true,
                "type": "buy",
                "coin": "BTC",
                "currency": "CNY",
                "price": "33200",
                "totalAmount": "0.0001",
                "remainingAmount": "0.0001",
                "minAmount": "0.0001",
                "minCredit": 60,
                "createdAt": "2019-04-09T08:18:13.000+0000",
                "expiresAt": "2019-04-09T10:18:13.000+0000",
                "state": "released",
                "advertiser": {
                    "nickname": "du",
                    "avatarUrl": "xxxxxxxxxxxxx",
                    "credit": 73
                },
                "paymentOptions": null,
                "customerAvatarUrls": null,
                "numCompletedOrders": null,
                "id": "LVvGv6Jw"
            }
        ],
        "totalPages": 1,
        "totalItems": 2
    }
}
```

### 查询广告详情（法币）
```
GET exchange-api/v1/u/whale/otc/ads/{id}
```

#### 参数说明
| 参数              | 必填  | 类型        | 说明                          |
| -----------      | ---- | ----------- | ---------------------------- |
| id               | 是   | String       | 广告id                       |

#### 返回说明
```
{
    "data": {
        "myAd": true,
        "type": "buy",
        "coin": "BTC",
        "currency": "CNY",
        "price": "33200",
        "totalAmount": "0.0001",
        "remainingAmount": "0.0001",
        "minAmount": "0.0001",
        "minCredit": 60,
        "createdAt": "2019-04-09T08:18:13.000+0000",
        "expiresAt": "2019-04-09T10:18:13.000+0000",
        "state": "released",
        "advertiser": {
            "nickname": "du",
            "avatarUrl": "xxxxxxxxxxxxxxxxx",
            "credit": 73
        },
        "paymentOptions": null,
        "id": "LVvGv6Jw"
    }
}
```

### 修改自己发布的广告（法币，目前只能修改价格）
```
PUT exchange-api/v1/u/whale/otc/ads
```

#### 参数说明
| 参数              | 必填  | 类型        | 说明                          |
| -----------      | ---- | ----------- | ---------------------------- |
| adId             | 是   | String       | 广告id                       |
| price            | 是   | BigDecimal   | 新价格                       |

#### 返回说明
```
{
    "data": {
        "myAd": true,
        "type": "buy",
        "coin": "BTC",
        "currency": "CNY",
        "price": "33201",
        "totalAmount": "0.0001",
        "remainingAmount": "0.0001",
        "minAmount": "0.0001",
        "minCredit": 60,
        "createdAt": "2019-04-09T08:18:13.000+0000",
        "expiresAt": "2019-04-09T10:18:13.000+0000",
        "state": "released",
        "advertiser": {
            "nickname": "du",
            "avatarUrl": "xxxxxxxxxxxxxxxxx",
            "credit": 73
        },
        "paymentOptions": null,
        "id": "LVvGv6Jw"
    }
}
```

### 撤销广告（法币）
```
DELETE exchange-api/v1/u/whale/otc/ads/{id}
```

#### 参数说明
| 参数              | 必填  | 类型        | 说明                          |
| -----------      | ---- | ----------- | ---------------------------- |
| id               | 是   | String       | 广告id                       |

#### 返回说明
无

#### 字段说明
| 字段      |  说明                          |
| -------- |  ----------------------       |
| type     | 主流币/平台币(common/platform)   |
| minAmount| 单笔最小交易数量                  |
| lowRatio | 最低报价率                       |
| highRatio| 最高报价率                       |
| feeRatio | 手续费率(买方)                   |

### 获取与当前用户相关的订单列表（法币）
```
GET exchange-api/v1/u/whale/otc/orders
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明                         |
| ----------- | ---- |-------------  | ---------------------------- |
| type        | 否   | String        | 交易类型（buy/sale）            |
| coin        | 否   | String        | 商品币种                       |
| currency    | 否   | String        | 法币币种（CNY/USD/JPY)         |
| states      | 否   | List\<String> | 订单状态（creating/created/failed/dealing/dealt/canceling/canceled)|
| page        | 否   | Integer       | 当前页码                       |
| size        | 否   | Integer       | 显示条数，10 - 100             |

#### 返回说明
```
{
    "data": {
        "items": [
            {
                "type": "buy",
                "coin": "BTC",
                "currency": "CNY",
                "totalPrice": "3362.6292",
                "amount": "0.1",
                "createdAt": "2019-04-08T06:49:53.000+0000",
                "state": "paid",
                "id": "g8VEyKVR"
            },
            {
                "type": "sale",
                "coin": "TMC",
                "currency": "CNY",
                "totalPrice": "39",
                "amount": "1000",
                "createdAt": "2019-04-08T06:11:15.000+0000",
                "state": "dealt",
                "id": "4nD1pxe1"
            }
        ],
        "totalPages": 1,
        "totalItems": 4
    }
}
```

#### 字段说明
| 字段              |  说明                      |
| -----------      |  ----------------------   |
| totalPrice       | 订单总金额                  |
| amount           | 订单数量                    |
| createdAt        | 下单时间                    |
| state            | 订单状态（created/noticed_pay/paid/failed/dealt/canceled）|

### 查询订单详情（法币）
```
GET exchange-api/v1/u/whale/otc/orders/{id}
```

#### 参数说明
| 参数              | 必填  | 类型        | 说明                          |
| -----------      | ---- | ----------- | ---------------------------- |
| id               | 是   | String       | 订单id                       |

#### 返回说明
```
{
    "data": {
        "type": "buy",
        "placedBy": "李*羽",
        "coin": "BTC",
        "currency": "CNY",
        "canAppeal": false,
        "totalPrice": "460.3603",
        "amount": "0.01",
        "unitPrice": "46036.03",
        "fee": "0",
        "createdAt": "2018-09-28T03:14:38.000+0000",
        "completedAt": null,
        "state": "canceled",
        "logs": [
            {
                "me": true,
                "operator": {
                    "nickname": "昵称",
                    "avatarUrl": "头像",
                    "credit": 80
                },
                "type": "cancel_order",
                "content": "内容",
                "state": "success",
                "createdAt": "2018-09-30T03:14:38.000+0000"
            }
        ],
        "paymentOptions": null,
        "id": "BADXyWVE"
    }
}
```

#### 字段说明
| 字段              |  说明                   |
| -----------      |  ---------------------- |
| placedBy         | 对方姓名                  |
| canAppeal        | 能否申诉                  |
| completedAt      | 成交时间                  |

### 创建订单（法币）
```
POST exchange-api/v1/u/whale/otc/orders
```

#### 参数说明
| 参数         | 必填  | 类型       | 说明     |
| ----------- | ---- | ---------- | -------  |
| adId        | 是   | String     | 广告id    |
| amount      | 是   | BigDecimal | 订单数量   |
| price       | 是   | BigDecimal | 币价      |

#### 返回说明
```
{
    "data": {
        "type": "buy",
        "placedBy": "邵*",
        "coin": "BTC",
        "currency": "CNY",
        "canAppeal": false,
        "totalPrice": "3362.6292",
        "amount": "0.1",
        "unitPrice": "33626.292",
        "fee": "0",
        "createdAt": "2019-04-09T09:09:53.524+0000",
        "dealTs": null,
        "state": "creating",
        "logs": null,
        "paymentOptions": null,
        "id": "BAwXKvVE"
    }
}
```

### 撤销订单（法币）
```
DELETE exchange-api/v1/u/whale/otc/orders/{id}
```

#### 参数说明
| 参数              | 必填  | 类型        | 说明                          |
| -----------      | ---- | ----------- | ---------------------------- |
| id               | 是   | String       | 订单id                       |

#### 返回说明
```
{
    "data": {
        "type": "buy",
        "placedBy": "邵*",
        "coin": "BTC",
        "currency": "CNY",
        "canAppeal": false,
        "totalPrice": "3362.6292",
        "amount": "0.1",
        "unitPrice": "33626.292",
        "fee": "0",
        "createdAt": "2019-04-09T09:09:53.000+0000",
        "completedAt": null,
        "state": "canceling",
        "logs": [
            {
                "me": true,
                "operator": {
                    "nickname": "昵称",
                    "avatarUrl": "头像",
                    "credit": 90
                },
                "type": "create_order",
                "content": "内容",
                "state": "success",
                "createdAt": "2019-04-09T09:09:53.000+0000"
            }
        ],
        "paymentOptions": null,
        "id": "BAwXKvVE"
    }
}
```

### 通知买方付款/付款后，通知卖方确认/确认收款，进行放币/发起投诉（法币）
```
PUT exchange-api/v1/u/whale/otc/orders/{id}
```

#### 参数说明
| 参数        | 必填           | 类型            | 说明                                |
| -----------| ------------- | -------------- | ----------------------------------- |
| id         | 是            | String         | 订单id                               |
| action     | 是            | String         | payment-reminder(通知买方付款)/confirmation-reminder(付款后，通知卖方确认)/confirm(确认收款，进行放币)/appeal(发起投诉)|
| paymentId  | action为confirmation-reminder时必填| String | 支付方式id                |
| vcode      | action为confirm时必填 | String   | 验证码                               |
| reason     | action为appeal时必填  | String   | 投诉理由:unpaid(买方未支付)/unconfirmed(卖方未确认收款)/unable_contact(联系不上对方)/other(其他原因)|

#### 返回说明
```
{
    "data": {
        "type": "buy",
        "placedBy": "邵*",
        "coin": "BTC",
        "currency": "CNY",
        "canAppeal": false,
        "totalPrice": "3362.6292",
        "amount": "0.1",
        "unitPrice": "33626.292",
        "fee": "0",
        "createdAt": "2019-04-09T09:09:53.000+0000",
        "completedAt": null,
        "state": "created",
        "logs": null,
        "paymentOptions": null,
        "id": "PkwdameX"
    }
}
```

### 我的收款方式（法币）
```
GET exchange-api/v1/u/whale/otc/payment_options
```

#### 返回说明
```
{
    "data": [
        {
            "id": "O0V8yKVe",
            "name": "CESHI",
            "type": "wxpay",
            "account": "xxxxxxxxxxx",
            "additionalInfo": null
        }
    ]
}
```

#### 字段说明
| 参数            | 说明                                             |
| ---------------| ----------------------------------------------- |
| name           | 收款方姓名                                        |
| type           | 收款方式类型:wxpay/alipay/unionpay/paypal/webmoney |
| account        | 参考下表                                          |
| additionalInfo | 参考下表                                          |

| 收款方式      | account字段        | additionalInfo字段                            |
| ----------- | ------------------ | -------------------------------------------  |
| unionpay    | 银行卡号            | bank：银行名称，bankBranch：开户支行名称            |
| wxpay/alipay| 收款码图片URL       | 无                                            |
| paypal      | paypal绑定邮箱      | 无                                            |
| webmoney    | WebMoney收款账户    | 无                                            |

### 添加收款方式（法币）
```
POST exchange-api/v1/u/whale/otc/payment_options
```

#### 参数说明
| 参数             | 必填    | 类型                 | 说明                            |
| --------------- | ------ | --------------------| ------------------------------- |
| name            | 是      | String              | 收款方姓名                         |
| type            | 是      | String              | 收款方式类型:wxpay/alipay/unionpay/paypal/webmoney|
| account         | 是      | String              | 参考下表                                          |
| additionalInfo  | 参考下表 | Map<String, String>  | 参考下表                                          |

| 收款方式      | account字段        | additionalInfo字段                            |
| ----------- | ------------------ | -------------------------------------------  |
| unionpay    | 银行卡号            | key:bank(银行名称,是), bankBranch(开户支行名称,是)  |
| wxpay/alipay| 收款码图片URL       | 否                                            |
| paypal      | paypal绑定邮箱      | 否                                            |
| webmoney    | WebMoney收款账户    | 否   

#### 返回说明
```
{
    "data": {
        "id": "1zaO70hoa",
        "name": "CESHI",
        "type": "unionpay",
        "account": "123456789",
        "additionalInfo": {
            "bank": "中国银行",
            "bankBranch": "中国银行交通大学分行"
        }
    }
}
```

### 删除收款方式（法币）
```
DELETE exchange-api/v1/u/whale/otc/payment_options/{id}
```

#### 参数说明
| 参数             | 必填    | 类型                 | 说明                            |
| --------------- | ------ | --------------------| ------------------------------- |
| id              | 是      | String              | 收款方式id                       |

#### 返回说明
无          

### 获取虚拟号
```
GET exchange-api/v1/u/whale/otc/orders/{id}/virtual_number
```

#### 参数说明
| 参数             | 必填    | 类型                 | 说明                            |
| --------------- | ------ | --------------------| ------------------------------- |
| id              | 是      | String              | 订单id                          |

#### 返回说明
```
{
    "data": {
        "virtualNumber": "+8613000000000"
    }
}
```

### 微盘账户信息
```
GET exchange-api/v1/u/wp/account
```

#### 返回说明
```
{
    "data": {
        "LoginId": null,
        "Balance": 0,
        "ResultCD": "EC03",
        "ErrorMsg": "连接断开，请重新登录",
        "WhaleFlag": 1
    }
}
```

#### 字段说明
| 字段              |  说明                     |
| -----------      |  ----------------------  |
| ResultCD         | 返回码                    |
| ErrorMsg         | 错误消息                   |
| LoginId          | 登录账号(渠道与客户手机号以下划线拼接)|
| Balance          | 账户余额                   |
| WhaleFlag        | 是否已授权小鲸库             |

### 微盘账户流水
```
GET exchange-api/v1/u/wp/flows
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                                    |
| --------------- | ------  | -----------------| --------------------------------------  |
| flowType        | 否      | String           | 流水类型,支持多个,以"|"连接,默认全部,详见下表  |
| skip            | 是      | Integer          | 开始条数(按时间倒序，第一条为0，以此类推)      |
| pageSize        | 是      | Integer          | 获取条数                                 |

`flowType`目前有以下几种类型：

| flowType                  | 说明        |
| --------------------------| ----------- |
| 1                         | 入金         |
| 2                         | 出金         |
| 3                         | 建仓         |
| 4                         | 平仓         |
| 6                         | 系统错误      |
| 7                         | 系统纠错      |

#### 返回说明
```
{
    "data": {
        "AccountFlowList": null,
        "ResultCD": "EC03",
        "ErrorMsg": "连接断开，请重新登录"
    }
}
```

#### 字段说明
| 字段              |  说明                     |
| -----------      |  ----------------------  |
| ResultCD         | 返回码                    |
| ErrorMsg         | 错误消息                   |
| AccountFlowList  | 账户流水列表                |

### 微盘提现
```
POST exchange-api/v1/u/wp/withdrawal
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明    |
| --------------- | ------ | ------------------| -------|
| money           | 是      | BigDecimal       | 提现金额 |

#### 返回说明
```
{
    "data": {
        "WithdrawID": null,
        "ResultCD": "EC03",
        "ErrorMsg": "连接断开，请重新登录"
    }
}
```

#### 字段说明
| 字段              |  说明                     |
| -----------      |  ----------------------  |
| ResultCD         | 返回码                    |
| ErrorMsg         | 错误消息                   |
| WithdrawID       | 提现订单流水号              |

### 微盘入金
```
POST exchange-api/v1/u/wp/deposit
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明    |
| --------------- | ------ | ------------------| -------|
| coinCode        | 是      | String           | 币种code|
| money           | 是      | BigDecimal       | 充值金额 |

#### 返回说明
```
{
    "data": {
        "Amount": null,
        "DepositTime": null,
        "DepositStatus": 3,
        "DepositId": null,
        "ResultCD": "EC03",
        "ErrorMsg": "连接断开，请重新登录"
    }
}
```

#### 字段说明
| 字段                |  说明                     |
| -----------        |  ----------------------  |
| ResultCD           | 返回码                    |
| ErrorMsg           | 错误消息                   |
| Amount             | 订单金额                   |
| DepositTime        | 订单生成时间                |
| DepositStatus      | 订单状态(1支付中，2成功，3失败)|
| DepositId          | 代扣订单id                 |

### 微盘商品列表
```
GET exchange-api/v1/wp/goods
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明    |
| --------------- | ------ | ------------------| -------|
| channel         | 否      | String           | 渠道code|
| goodsType       | 否      | String           | 商品类型 |

#### 返回说明
```
{
    "data": ...
}
```

### 微盘货币汇率
```
GET exchange-api/v1/wp/currency/rate
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                 |
| --------------- | ------ | ------------------| --------------------|
| channel         | 否      | String           | 渠道code             |
| currency        | 是      | String           | 计价货币(CNY/JPY/USD) |

#### 返回说明
```
{
    "data": ...
}
```

### 微盘当前报价
```
GET exchange-api/v1/wp/price/realtime
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                 |
| --------------- | ------ | ------------------| --------------------|
| channel         | 否      | String           | 渠道code             |
| goodsType       | 否      | String           | 商品类型              |

#### 返回说明
```
{
    "data": ...
}
```

### 微盘K线数据
```
GET exchange-api/v1/wp/price/kchart
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                 |
| --------------- | ------ | ------------------| --------------------|
| channel         | 否      | String           | 渠道code             |
| goodsType       | 是      | String           | 商品类型              |
| chartType       | 是      | String           | K线类型               |
| from            | 否      | Timestamp        | 开始时间              |
| to              | 否      | Timestamp        | 结束时间              |

#### 返回说明
```
{
    "data": ...
}
```

### 微盘持仓列表
```
GET exchange-api/v1/u/wp/positions
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                                    |
| --------------- | ------- | -----------------| ---------------------------------------|
| codeType        | 否      | String           | 商品类型代码                              |
| bs              | 否      | Byte             | 买卖方向(1-买[涨],2-卖[跌])               |

#### 返回说明
```
{
    "data": ...
}
```

### 微盘历史仓位列表
```
GET exchange-api/v1/u/wp/positions/history
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                                    |
| --------------- | ------- | -----------------| ---------------------------------------|
| codeType        | 否      | String           | 商品类型代码                              |
| bs              | 否      | Byte             | 买卖方向(1-买[涨],2-卖[跌])               |
| closeType       | 否      | Byte             | 平仓类型：1.普通平仓、2.自动平仓、3.爆仓平仓、4.收盘平仓、5.强制平仓|
| skip            | 是      | Integer          | 开始条数(按时间倒序，第一条为0，以此类推)     |
| pageSize        | 是      | Integer          | 获取条数                                 |

#### 返回说明
```
{
    "data": ...
}
```

### 微盘建仓
```
POST exchange-api/v1/u/wp/positions
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                                    |
| --------------- | ------ | ------------------| ---------------------------------------|
| code            | 是      | String           | 商品代码                                 |
| buySell         | 是      | Byte             | 建仓方向(1-买[涨],2-卖[跌])                |
| amount          | 是      | Integer          | 建仓手数                                 |
| price           | 否      | BigDecimal       | 建仓价格(为空则按服务器价格成交)             |
| limit           | 否      | BigDecimal       | 止盈点(为空则不设)                         |
| stop            | 否      | BigDecimal       | 止损点(为空则不设)                         |

#### 返回说明
```
{
    "data": ...
}
```

### 微盘体验券建仓
```
POST exchange-api/v1/u/wp/positions/voucher
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                                    |
| --------------- | ------ | ------------------| ---------------------------------------|
| code            | 是      | String           | 商品代码                                 |
| buySell         | 是      | Byte             | 建仓方向(1-买[涨],2-卖[跌])                |
| amount          | 是      | Integer          | 建仓手数                                 |
| price           | 否      | BigDecimal       | 建仓价格(为空则按服务器价格成交)             |
| limit           | 否      | BigDecimal       | 止盈点(为空则不设)                         |
| stop            | 否      | BigDecimal       | 止损点(为空则不设)                         |

#### 返回说明
```
{
    "data": ...
}
```
#### 字段说明
| 字段                |  说明                     |
| -----------        |  ----------------------  |
| ResultCD           |  返回码                   |
| ErrorMsg           | 错误消息                   |
| Position             |  新建仓位                 |

### 微盘平仓
```
POST exchange-api/v1/u/wp/positions/{id}
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                                    |
| --------------- | ------ | ------------------| ---------------------------------------|
| id              | 是      | Long             | 仓位ID                                  |
| price           | 否      | BigDecimal       | 平仓价格(为空则按服务器价格成交)              |

#### 返回说明
```
{
    "data": ...
}
```

### 微盘持仓修改
```
PUT exchange-api/v1/u/wp/positions/{id}
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                                    |
| --------------- | ------ | ------------------| ---------------------------------------|
| id              | 是      | Long             | 仓位ID                                  |
| limit           | 否      | BigDecimal       | 止盈点(为空则不设)                         |
| stop            | 否      | BigDecimal       | 止损点(为空则不设)                         |

#### 返回说明
```
{
    "data": ...
}
```

### 可领体验券列表
```
GET exchange-api/v1/u/wp/vouchers
```

#### 返回说明
```
{
    "data": ...
}
```

### 领取体验券
```
PUT exchange-api/v1/u/wp/vouchers/{id}
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                                    |
| --------------- | ------ | ------------------| ---------------------------------------|
| id              | 是      | String           | 体验券id                                 |

#### 返回说明
```
{
    "data": ...
}
```
#### 字段说明
| 字段                |  说明                     |
| -----------        |  ----------------------  |
| ResultCD           |  返回码                   |
| ErrorMsg           | 错误消息                   |
| VoucherList        |  可领体验券列表            |

`VoucherList` 中的VoucherItem结构如下：

| 字段                  | 说明        |
| --------------------------| ----------- |
| ID                         | 体验券类型ID         |
| Title                         | 体验券主题         |
| GoodsCode                         | 体验券适用商品代码         |
| ActiveStartDt                         | 体验券活动开始日期         |
| ActiveEndDt                         | 体验券活动开始日期         |
| UseType                         | 使用类型(1:指定期间;2:指定天数)         |
| UseStartDt                         | 使用开始日期(使用类型为1时有值)         |
| UseEndDt                         | 使用结束日期(使用类型为1时有值)         |
| UseDays                         | 使用天数(使用类型为2时有值)         |
| Amount                         | 体验券总数         |
| CustomerAmount                         | 当前客户已领取数(0:未领;>0已领)        |
| ReceiveAmount                         | 体验券已被领取总数         |
| Comment                         | 备注         |

### 已领取体验券列表
```
GET exchange-api/v1/u/wp/vouchers/my
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                                    |
| --------------- | ------ | ------------------| ---------------------------------------|
| goodsCode        | 否      | String            | 商品code                                  |
| goodsType        | 否      | String           |商品类型                                  |
| skip            |   是    | Integer          | 开始条数(按时间倒序，第一条为0，以此类推)     |
| pageSize        | 是      | Integer          | 获取条数                                 |

#### 返回说明
```
{
    "data": ...
}
```

#### 字段说明
| 字段                |  说明                     |
| -----------        |  ----------------------  |
| ResultCD           |  返回码                   |
| ErrorMsg           | 错误消息                   |
| CustomerVoucherList             |  当前客户已领（可用）体验券列表       |

`CustomerVoucherList` 中的CustomerVoucherItem结构如下：

| 字段                  | 说明        |
| --------------------------| ----------- |
| ID                         | 体验券类型ID         |
| CustomerID                         | 客户ID         |
| Title                         | 体验券主题         |
| GoodsCode                         | 体验券适用商品代码         |
| GetTime                         | 体验券活动开始日期         |
| ValidStartDt                         | 有效期开始日        |
| ValidEndDt                         | 有效期结束日         |
| VoucherTypeID                         | 体验券类型ID         |
| Status                         | 使用状态(1:未使用;2:已使用)        |
| PositionID                         | 仓位ID(已使用时返回，用于那个仓位建仓)        |

### 历史获取体验券列表
```
GET exchange-api/v1/u/wp/vouchers/my/history
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                                    |
| --------------- | ------ | ------------------| ---------------------------------------|
| goodsCode        | 否      | String            | 商品code                                  |
| goodsType        | 否      | String           |商品类型                                  |
|status           | 否      | String           |使用状态(1:未使用;2:已使用)(不传则查全部)        |
| skip            |   是    | Integer          | 开始条数(按时间倒序，第一条为0，以此类推)     |
| pageSize        | 是      | Integer          | 获取条数                                 |

#### 返回说明
```
{
    "data": ...
}
```
#### 字段说明
| 字段                |  说明                     |
| -----------        |  ----------------------  |
| ResultCD           |  返回码                   |
| ErrorMsg           | 错误消息                   |
| CustomerVoucherList             |  当前客户历史体验券列表       |

### 指定商品可用体验券数量
```
GET exchange-api/v1/u/wp/vouchers/my/count
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                                    |
| --------------- | ------ | ------------------| ---------------------------------------|
| goodsCode        | 否      | String            | 商品code                                  |

#### 返回说明
```
{
    "data": ...
}
```
#### 字段说明
| 字段                     | 说明                         |
| ----------------        | ---------------------------- |
| ResultCD                | 返回码                        |
| ErrorMsg                | 错误消息                      |
| CustomerVoucherCountList| 当前客户可用体验券数量列表       |

### 微盘币种的买卖比例
```
GET exchange-api/v1/wp/buysell/percent
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                 |
| --------------- | ------ | ------------------| --------------------|
| channel         | 是      | String           | 渠道code             |
| goodsType       | 是      | String           | 商品类型              |

#### 返回说明
```
{
    "data": ...
}
```
#### 字段说明
| 字段                     | 说明                         |
| ----------------        | ---------------------------- |
| ResultCD                | 返回码                        |
| ErrorMsg                | 错误消息                      |
| BuyPercent              | 买的比例 (例: 0.73代表73%) |
| SellPercent | 卖的比例 (例: 0.27代表27%) |

### 公告列表
```
GET exchange-api/v1/notices
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                                    |
| --------------- | ------ | ------------------| ---------------------------------------|
| channel         | 是      | String           | 渠道号                                  |
| title           | 否      | String           | 标题                                    |
| page            | 否      | Integer          | page                                    |
| size            | 否      | Integer          | size                                    |

#### 返回说明
```
{
    "items": [
        {
            "noticeId": "1",
            "title": "标题",
            "pubTime": 111111111
        }
    ],
    "totalPages": 1,
    "totalItems": 1
}
```

### 公告详情
```
GET exchange-api/v1/notices/{id}
```

#### 参数说明
| 参数             | 必填    | 类型              | 说明                                    |
| --------------- | ------ | ------------------| ---------------------------------------|
| id              | 是      | Long             | 公告ID                                  |


#### 返回说明
```
{
    "data": {
        "noticeId": 1,
        "title": "标题",
        "content": "公告内容",
        "pubTime": 11111111
    }
}
```

### ieo当前商品列表
```
GET exchange-api/v1/ieo/goods
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明              |
| ------------| -----| ------------- | -----------------|
| channel     | 是   | String        | 渠道码             |
| page        | 否   | Integer       | 当前页码           |
| size        | 否   | Integer       | 显示条数，10 - 100 |

#### 返回说明
```
{
    "data": {
        "items": [
            {
                "id": 1,
                "name": {
                    "zh": "",
                    "en": ""
                },
                "logoUrl": {
                    "zh": "",
                    "en": ""
                },
                "desc": {
                    "zh": "",
                    "en": ""
                },
                "descUrl": {
                    "zh": "",
                    "en": ""
                },
                "qualificationPolicy": {},
                "subscriptionPolicy": {},
                "goodsCoin": "",
                "currencyCoin": "",
                "totalAmount": "",
                "amountPerUnit": "",
                "pricePerUnit": "",
                "subscribeStart": 222,
                "subscribeEnd": 333,
                "state": "",
                "stateDesc": "",
                "leftAmount": ""
            }
        ],
        "totalPages": 1,
        "totalItems": 1
    }
}
```

#### 字段说明
| 字段              |  说明                     |
| -----------      |  ----------------------  |
| id               | 商品id                    |
| name             | 商品名称                   |
| logoUrl          | 商品logo                  |
| desc             | 商品描述                   |
| descUrl          | 商品描述url                |
| goodsCoin        | 商品币                     |
| currencyCoin     | 计价货币                    |
| totalAmount      | 发行量                      |
| amountPerUnit    | 每手数量                    |
| pricePerUnit     | 商品币单价                  |
| subscribeStart   | 申购开始时间                |
| subscribeEnd     | 申购结束时间                |
| state            | 商品状态(normal:正常，paying:付款中)|
| stateDesc        | 商品状态描述                 |
| leftAmount       | 剩余量                      |

注1：qualificationPolicy 资格策略

| 字段              | 类型         |  说明                           | 备注            |
| -----------      |----------    |  --------------------------     |----------------|
| type             | String       | 类型（normal/capital）           | normal, capital |
| reqRnvLevel      | int          | 要求实名等级                     | normal, capital |
| quota            | BigDecimal   | 限购额度                         | normal, capital |
| capitalCoins     | List\<String>| 评估资产币种列表                  | capital         |
| equivalentCoin   | String       | 折算资产币种                     | capital         |
| assessStart      | String       | 评估开始日期                     | capital         |
| assessEnd        | String       | 评估结束日期                     | capital         |
| reqDayAvgCapital | BigDecimal   | 要求日均资产                     | capital         |
| reqDayCapital    | BigDecimal   | 单日资产要求                     | capital         |
| reqHoldDays      | Long         | 满足单日资产要求天数               | capital        |
| quotaRateByDayAvg| BigDecimal   | 申购额度(按日均资产的一定比例计算)   | capital        |
| quotaRateByDayMin| BigDecimal   | 申购额度(按最低单日资产的一定比例计算)| capital        |
| quotaRateByDayMax| BigDecimal   | 申购额度(按最高单日资产的一定比例计算)| capital        |

注2：subscriptionPolicy 分配策略

| 字段              | 类型        | 说明                                  | 备注                                 |
| -----------      |------------ |  -----------------------------------  |-------------------------------------|
| type             | String      | 类型（chronological/proportion/drawing）| chronological, proportion, drawing |
| marginPerUnit    | BigDecimal  | 每手保证金                              | proportion, drawing                |
| paymentTime      | Long        | 最后付款时间                            | proportion, drawing                |
| curAllocatedNum  | Integer     | 已分配号码                              | drawing                            |
| drawnCount       | Integer     | 中签数量                                | drawing                            |
| drawnNums        | String      | 中签号码                                | drawing                             |
| totalOrderAmount | BigDecimal  | 总申购数量                              | proportion                          |
| actualAllocatedCount | Integer | 已分配有效号码数量                        | drawing                            |
| drawnRate            | BigDecimal | 中签率                               | drawing                            |

### ieo商品详情
```
GET exchange-api/v1/ieo/goods/{id}
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明              |
| ------------| -----| ------------- | -----------------|
| id          | 是   | long          | 商品id            |
| channel     | 是   | String        | 渠道码            |

#### 返回说明
```
{
    "data": {
        "id": 1,
        "name": {
            "zh": "",
            "en": ""
        },
        "logoUrl": {
            "zh": "",
            "en": ""
        },
        "desc": {
            "zh": "",
            "en": ""
        },
        "descUrl": {
            "zh": "",
            "en": ""
        },
        "qualificationPolicy": {},
        "subscriptionPolicy": {},
        "goodsCoin": "",
        "currencyCoin": "",
        "totalAmount": "",
        "amountPerUnit": "",
        "pricePerUnit": "",
        "subscribeStart": 222,
        "subscribeEnd": 333,
        "state": "",
        "stateDesc": "",
        "leftAmount": ""
    }
}
```

### ieo获取申购限额
```
GET exchange-api/v1/u/ieo/quota
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明              |
| ------------| -----| ------------- | -----------------|
| goodsId     | 是   | long          | 商品id            |

#### 返回说明
```
{
    "data": {
        "quota": "",
        "leftQuota": ""
    }
}
```

#### 字段说明
| 字段              |  说明                     |
| -----------      |  ----------------------  |
| quota            | 总额度                    |
| leftQuota        | 剩余额度                   |

### ieo申购
```
POST exchange-api/v1/u/ieo/orders
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明              |
| ------------| -----| ------------- | -----------------|
| goodsId     | 是   | long          | 商品id            |
| orderAmount | 是   | String        | 申购数量           |

#### 返回说明
```
{
    "data": {
        "id": 1,
        "goodsId": 1,
        "goodsName": {
            "zh": "",
            "en": ""
        },
        "goodsLogoUrl": {
            "zh": "",
            "en": ""
        },
        "goodsDesc": {
            "zh": "",
            "en": ""
        },
        "goodsState": "",
        "goodsSubscribeStart": 22222,
        "goodsSubscribeEnd": 33333,
        "qualificationType": "",
        "subscriptionType": "",
        "goodsCoin": "",
        "currencyCoin": "",
        "orderAmount": "",
        "orderTs": 222,
        "frozenCapital": "",
        "allocatedNumsCount": 100,
        "drawnNumsCount": 52,
        "allocatedAmount": "",
        "allocatedTs": 333,
        "actualPayment": "",
        "lastPaymentTs": 444,
        "actualPaymentTs": 555,
        "state": ""
    }
}
```

#### 字段说明
| 字段              |  说明                     |
| -----------      |  ----------------------  |
| id               | 订单id                    |
| goodsId          | 商品id                    |
| goodsName        | 商品名称                   |
| goodsLogoUrl     | 商品logo                  |
| goodsDesc        | 商品描述                   |
| goodsState       | 商品状态                  |
| goodsSubscribeStart   | 申购开始时间          |
| goodsSubscribeEnd     | 申购结束时间          |
| qualificationType     | 资格策略类型          |
| subscriptionType      | 分配策略类型          |
| goodsCoin        | 商品币                    |
| currencyCoin     | 计价货币                   |
| orderAmount      | 订单数量                   |
| orderTs          | 下单时间                   |
| frozenCapital    | 冻结数量                   |
| allocatedNumsCount    | 抽签号码数量           |
| drawnNumsCount        | 中签号码数量           |
| allocatedAmount  | 抽签数量                   |
| allocatedTs      | 抽签时间                   |
| actualPayment    | 付款资金                   |
| lastPaymentTs    | 最后付款时间                |
| actualPaymentTs  | 实际付款时间                |
| state            | 订单状态                    |

`state`为订单状态，目前有以下几种类型：

| state                     | 说明        |
| --------------------------| ----------- |
| subscribed                | 已申购       |
| waiting_for_pay           | 待付款       |
| finished                  | 已完成       |
| pay_failed                | 未付款       |
| canceled                  | 已取消       |

### ieo申购订单记录
```
GET exchange-api/v1/u/ieo/orders
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明              |
| ------------| -----| ------------- | -----------------|
| states      | 否   | List\<String> | 订单状态           |
| page        | 否   | Integer       | 当前页码           |
| size        | 否   | Integer       | 显示条数，10 - 100 |

#### 返回说明
```
{
    "data": {
        "items": [
            {}
        ],
        "totalPages": 1,
        "totalItems": 2
    }
}
```

### ieo抽签号码列表
```
GET exchange-api/v1/u/ieo/orders/{id}/nums
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明              |
| ------------| -----| ------------- | -----------------|
| id          | 是   | long          | 订单id            |
| page        | 否   | Integer       | 当前页码           |
| size        | 否   | Integer       | 显示条数，10 - 100 |

#### 返回说明
```
{
    "data": {
        "items": [
            {
                "allocatedNum": 101,
                "isDrawn": false
            }
        ],
        "totalPages": 1,
        "totalItems": 2
    }
}
```

#### 字段说明
| 字段              |  说明                     |
| -----------      |  ----------------------  |
| allocatedNum     | 分配号码                   |
| isDrawn          | 是否中签                    |

### 法币入金：获取渠道可用的付款法币列表
```
GET exchange-api/v1/currency/config/currencies
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明              |
| ------------| -----| ------------- | -----------------|
| channel     | 是   | String        | 渠道码             |

#### 返回说明
```
{
    "data": [
        {
            "code": "CNY",
            "scale": 1
        }
    ]
}
```

### 法币入金：获取渠道可用的法币付款方式
```
GET exchange-api/v1/currency/config/depositways
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明              |
| ------------| -----| ------------- | -----------------|
| channel     | 是   | String        | 渠道码             |
| currency    | 是   | String        | 法币code           |

#### 返回说明
```
{
    "data": [
        {
            "code": "whalebank",
            "name": "小鲸库",
            "minPayAmount": "1"
        }
    ]
}
```

### 法币入金：兑换率
```
GET exchange-api/v1/currency/price
```

#### 参数说明
| 参数         | 必填 | 类型           | 说明              |
| ------------| -----| ------------- | -----------------|
| channel       | 是   | String        | 渠道code           |
| currency    | 是   | String        | 法币code           |
| payWay      | 是   | String        | 付款方式code           |

#### 返回说明
```
{
    "data": {
        "currencyCoin": "TWD",
        "depositCoin": "USDT",
        "price": "0.03154041",
        "priceTime": 1565171137000
    }
}
```

#### 字段说明
| 字段             |  说明                    |
| -----------     |  ----------------------  |
| currencyCoin    | 付款币code                |
| depositCoin     | 入币code                  |
| price           | 兑换率                    |
| priceTime       | 时间                     |

### 法币入金兑换率(4usdt 第三方支付通道)
```
GET exchange-api/v1/currency/4usdt/price
```

#### 参数说明
| 参数         | 必填   | 类型          | 说明              |
| ------------| ----- | ------------- | -----------------|
| channel     | 是    | String        | 渠道码             |

#### 返回说明
```
{
    "data": {
        "currencyCoin": "TWD",
        "depositCoin": "USDT",
        "price": "0.03154041",
        "priceTime": 1565171137000
        "minAmount":"100",
        "maxAmount":"49999.99"
    }
}
```

### 法币入金：付款
```
POST exchange-api/v1/u/currency/deposit
```

#### 参数说明
| 参数           | 必填 | 类型           | 说明              |
| --------------| -----| ------------- | -----------------|
| currency      | 是   | String        | 付款法币code       |
| payWay        | 是   | String        | 付款方式code       |
| depositAmount | 与payAmount二选一     | String | 充值金额  |
| payAmount     | 与depositAmount二选一 | String | 付款金额  |
| exPrice       | 否   | String        | 兑换价格           |
| comment       | 否   | String        | 备注              |
| additionalInfo| 否(采用1177tech或4usdt付款方式时必填)| AdditionalInfoRequest | 附加信息   |

AdditionalInfoRequest字段说明：

采用1177tech:

| 参数        | 必填 | 类型                        | 说明                                    |
| -----------| -----| -------------------------- | ---------------------------------------|
| paymentType| 是   | String                     | 支付类型(atm,atm_dva,webatm,mmk,mmk_cvs)|
| bank       | 否(支付类型选择atm,webatm时必填)| String| 银行代号(第一銀行(007)、彰化銀行(009)、國泰世華(013)、永豐銀行(807)、台新銀行(812))|

采用4usdt时:

| 参数           | 必填  | 类型       | 说明              |
| --------------| -----| -----------| ---------------- |
| mobile        | 是   | String     | 手机号(不带国际区号) |
| name          | 是   | String     | 姓名               |
| cardId        | 是   | String     | 证件号             |
| redirectUrl   | 是   | String     | 重定向url          |

#### 返回说明
```
{
    "data": {
        "id": 23,
        "orderNo": "",
        "currency": "",
        "payAmount": "",
        "depositCoin": "",
        "depositAmount": "",
        "thirdPartyCode": "",
        "thirdPartyName": "",
        "comment": "",
        "additionInfo": {},
        "state": "",
        "orderTs": 222222,
        "expireTs": 333333,
        "payString": "",
        "partnerOrderNo": "",
        "paidTs": 222999,
        "payResult": "",
        "finishedTs": 333999
    }
}
```

### 法币入金：查询付款记录
```
GET exchange-api/v1/u/currency/deposit
```

#### 参数说明
| 参数           | 必填 | 类型           | 说明              |
| --------------| -----| ------------- | -----------------|
| states        | 否   | List\<String> | 订单状态           |
| page          | 否   | Integer       | 当前页码           |
| size          | 否   | Integer       | 每页大小，10-100   |

#### 返回说明
```
{
    "data": {
        "items": [
            {
                "id": 34,
                "orderNo": "",
                "currency": "",
                "payAmount": "",
                "depositCoin": "",
                "depositAmount": "",
                "thirdPartyName": "",
                "state": "",
                "orderTs": 222222,
                "bank": "00001",
                "paymentType": "",
                "expireTs": 333333,
                "paidTs": 222999,
                "finishedTs": 333999
            }
        ],
        "totalPages": 1,
        "totalItems": 2
    }
}
```

#### 字段说明
| 字段              |  说明                     |
| -----------      |  ----------------------  |
| id               | 订单id                    |
| orderNo          | 订单号                     |
| currency         | 付款法币                   |
| payAmount        | 付款金额                   |
| depositCoin      | 兑换币种(数字币)            |
| depositAmount    | 兑换数量                   |
| thirdPartyCode   | 付款方式code               |
| thirdPartyName   | 付款方式名                 |
| comment          | 备注                      |
| additionInfo     | 附加信息                   |
| state            | 订单状态(created:待支付,failed:付款失败,closed:已关闭,paid:已支付,mch_paying:放款中,finished:已完成)                  |
| orderTs          | 下单时间                   |
| expireTs         | 过期时间                   |
| payString        | 支付字符串                 |
| partnerOrderNo   | 第三方订单号               |
| paidTs           | 付款时间                   |
| payResult        | 付款结果                   |
| finishedTs       | 完结时间                   |

### 法币入金：查询付款记录(单个)
```
GET exchange-api/v1/u/currency/deposit/{id}
```

#### 参数说明
| 参数           | 必填 | 类型           | 说明              |
| --------------| -----| ------------- | -----------------|
| id           | 是   | long        |  订单ID|


#### 返回说明
```
{
    "data": {
        "id": 56,
        "orderNo": "",
        "currency": "",
        "payAmount": "",
        "depositCoin": "",
        "depositAmount": "",
        "thirdPartyCode": "",
        "thirdPartyName": "",
        "comment": "",
        "additionInfo": {},
        "state": "",
        "orderTs": 222222,
        "expireTs": 333333,
        "payString": "",
        "partnerOrderNo": "",
        "paidTs": 222999,
        "payResult": "",
        "finishedTs": 333999
    }
}
```

### 查询邀请人数
```
GET exchange-api/v1/u/invitations
```

#### 返回说明
```
{
    "data": {
        "agentCount": 0,
        "personCount": 0
    }
}
```

#### 字段说明
| 字段              |  说明                     |
| -----------      | ------------------------  |
| agentCount       | 经纪人邀请数                |
| personCount      | 个人邀请数                  |

### 查询介绍人返点
```
GET exchange-api/v1/u/reports/introducer
```

#### 参数说明
| 参数           | 必填 | 类型           | 说明              |
| --------------| -----| ------------- | -----------------|
| from          | 否   | Timestamp     | 起始时间           |
| to            | 否   | Timestamp     | 终止时间           |
| coin          | 否   | String        | 币种code          |
| type          | 否   | String        | 报表类型(wp:微盘，trade:交易所)
| page          | 否   | Integer       | 当前页码           |
| size          | 否   | Integer       | 每页大小，10-100   |

#### 返回说明
```
{
    "data": {
        "items": [
            {
                "coin": "ETH",
                "day": "2019-07-18",
                "profit": "0",
                "type": "trade"
            },
            {
                "coin": "ETH",
                "day": "2019-07-17",
                "profit": "0",
                "type": "trade"
            },
            {
                "coin": "USDT",
                "day": "2019-07-16",
                "profit": "0",
                "type": "trade"
            },
            {
                "coin": "ETH",
                "day": "2019-07-16",
                "profit": "0",
                "type": "trade"
            }
        ],
        "totalPages": 1,
        "totalItems": 4
    }
}
```

#### 字段说明
| 字段              |  说明                     |
| -----------      | ------------------------  |
| day              | 日期                       |
| profit           | 返点数                     |

### 查询经纪人返点
```
GET exchange-api/v1/u/reports/agent
```

#### 参数说明
| 参数           | 必填 | 类型           | 说明              |
| --------------| -----| ------------- | -----------------|
| from          | 否   | Timestamp     | 起始时间           |
| to            | 否   | Timestamp     | 终止时间           |
| coin          | 否   | String        | 币种code          |
| type          | 否   | String        | 报表类型(wp:微盘，trade:交易所)
| page          | 否   | Integer       | 当前页码           |
| size          | 否   | Integer       | 每页大小，10-100   |

#### 返回说明
同上

### 快讯
```
GET http://52.243.58.175:89/news/flash
```

#### 参数说明
| 参数           | 必填 | 类型           | 说明              |
| --------------| -----| ------------- | -----------------|
| page          | 否   | Integer       | 当前页码           |
| size          | 否   | Integer       | 每页大小，10-100   |

#### 返回说明
```
{
    "items": [
        {
            "id": "609384213357936640",
            "title": "亚马逊在职位列。。。。。",
            "text": "此前，亚马逊在招募一名高级软件工程师加入，。。。。。",
            "publishDate": 1565330118000,
            "highLight": false,
            "articlesType": "newsflashes"
        },...
	]
}
```

#### 字段说明
| 字段              |  说明                     |
| -----------      | ------------------------  |
| title            | 标题                       |
| text             | 快讯内容                     |
| publishDate      | 发布时间                     |
| highLight        | 是否高亮显示                     |
| articlesType     | newsflashes快讯，ad广告      |

## WS推送

### 实时行情
```
WS   /topic/v2/quotes
```

#### 返回说明
```
[
    "coinPair",
    "time",
    [
        [
            "usd",
            "cny",
            "jpy",
            "twd"
        ],
        [
            "last",
            "open",
            "high",
            "low",
            "vol",
            "changeP"
        ]
    ]
]
```

### 币种法币价格
```
WS   /topic/v2/coin/quotes
```

#### 返回说明
```
[
    [
        "coin",
        "usd",
        "cny",
        "jpy",
        "twd"
    ],
    [
        "coin",
        "usd",
        "cny",
        "jpy",
        "twd"
    ]
]
```

### 深度信息
```
WS    /topic/v2/deep/{coinPairId}/{deepNum}
```
#### 参数说明
| 参数             | 必填    | 类型                 | 说明                            |
| --------------- | ------ | --------------------| ------------------------------- |
| coinPairId      | 是      | String              | 货币对id                       |
| deepNum         | 是      | String              | 深度数1-6                       |

#### 返回说明
```
[
    "deepNum",
    "coinPairId",                     --buyDeep
    [
        [
            "num",
            "price",
            "total"
        ],
        [
            "num",
            "price",
            "total"
        ]
    ],                               --sellDeep
    [
        [
            "num",
            "price",
            "total"
        ],
        [
            "num",
            "price",
            "total"
        ]
    ]
]
```

### 成交记录
```
WS   /topic/v2/trade/{coinPairId}
```
#### 参数说明
| 参数             | 必填    | 类型                 | 说明                            |
| --------------- | ------ | --------------------| ------------------------------- |
| coinPairId      | 是      | String              | 货币对id                       |

#### 返回说明
```
[
    "id",
    "coinPairId",
    "time",
    "unitPrice",
    "num",
    "dir"
]
```

### 委托记录
```
WS   /user/queue/v2/entrust/{coinPairId}
```
#### 参数说明
| 参数             | 必填                  | 类型                 | 说明                          |
| --------------- | --------------------- | --------------------| ----------------------------- |
| coinPairId      | 否(不传时为**)          | String              | 货币对id                       |

#### 返回说明
```
[
    "customerId",
    "id",
    "coinPairId",
    "coinPair",
    "amount",
    "dealtAmount",
    "canceledAmount",
    "entrustState",
    "tradeUnitPrice"
]
```

### 账户余额
```
WS   /user/queue/v2/account
```

#### 返回说明
```
[
    "customerId",
    "coin",
    "balance",
    "frozen",
    "avail"
]
```

### 微盘行情推送
```
WS   /topic/wp/v2/quotes
```
#### 返回说明
```
[
    "code",
    "curPrice",
    "upDown",
    "high",
    "low",
    "changeP"
]
```

### 微盘消息通知
```
WS   /topic/v2/notice
```
#### 返回说明
```
[
    "type",         //消息类型 （wp_position）
    "channel",      //渠道号
    "openClose",    //建仓 0  平常 1
    "customer",     //客户 手机号
    "code",         //商品code
    "name",         //商品名称
    "amount",       //手数
    "buySell",      //买涨1    买跌2
    "price"         //价格
]
```

## 行情相关接口

### 实时行情(单货币对)
```
GET  price/v1/ticker
```

#### 参数说明
| 参数             | 必填    | 类型                 | 说明                            |
| --------------- | ------ | --------------------| ------------------------------- |
| symbol          | 是      | String             | 货币对(BTC/USDT)                |

#### 返回说明
```
{
    "s": "ok",
    "data": {
        "legalAmount": {
            "usd": "4027.99",
            "cny": "27790.71",
            "jpy": "443941.29"
        },
        "coinPair": "BTC/USDT",
        "bid": 4029.4,
        "ask": 4027.5,
        "lastPrice": 4027.99,
        "open": 4028.18,
        "high": 4028.18,
        "low": 4027.99,
        "dailyChange": -0.19,
        "dailyChangePercent": 0,
        "volume": 0.17,
        "timestamp": 1558401640000
    }
}
```

### 实时行情(列表)
```
GET  price/v1/ticker/list
```

#### 返回说明
```
{
    "s": "ok",
    "data": [
        {
            "legalAmount": {
                "usd": "4027.99",
                "cny": "27790.71",
                "jpy": "443941.29"
            },
            "coinPair": "BTC/USDT",
            "bid": 4029.4,
            "ask": 4027.5,
            "lastPrice": 4027.99,
            "open": 4028.18,
            "high": 4028.18,
            "low": 4027.99,
            "dailyChange": -0.19,
            "dailyChangePercent": 0,
            "volume": 0.17,
            "timestamp": 1558401640000
        }
    ]
}
```

### K线数据
```
GET  price/v1/kline
```

#### 参数说明
| 参数             | 必填    | 类型                 | 说明                            |
| --------------- | ------ | --------------------| ------------------------------- |
| symbol          | 是      | String             | 货币对(BTC/USDT)                |
| interval        | 是      | String             | 时间段(m1、m15、m30、m60、day)   |
| fieldType       | 是      | String             | 固定值(LastPrice)               |
| from            | 是      | Long               | 开始时间 （时间戳）              |
| to              | 是      | Long               | 结束时间 （时间戳）              |

#### 返回说明
```
{
    "s": "ok",
    "data": [
        {
            "coinPair": "BTC/USDT",
            "close": 4017,
            "open": 4017,
            "high": 4017,
            "low": 4017,
            "timestamp": 1546063345325,
            "volume": 1
        },
        {
            "coinPair": "ETH/USDT",
            "close": 113,
            "open": 113,
            "high": 113,
            "low": 113,
            "timestamp": 1546063345325,
            "volume": 113
        }
    ]
}
```

### K线数据(最后2条记录)
```
GET  price/v1/last/kline
```

#### 参数说明
| 参数             | 必填    | 类型                 | 说明                            |
| --------------- | ------ | --------------------| ------------------------------- |
| symbol          | 是      | String             | 货币对(BTC/USDT)                |
| interval        | 是      | String             | 时间段(m1、m15、m30、m60、day)   |

#### 返回说明
```
{
    "s": "ok",
    "data": [
        {
            "coinPair": "BTC/USDT",
            "close": 4017,
            "open": 4017,
            "high": 4017,
            "low": 4017,
            "timestamp": 1546063345325,
            "volume": 1
        },
        {
            "coinPair": "ETH/USDT",
            "close": 113,
            "open": 113,
            "high": 113,
            "low": 113,
            "timestamp": 1546063345325,
            "volume": 113
        }
    ]
}
```

### 法币汇率
```
GET  price/v1/rate
```

#### 返回说明
```
{
    "s": "ok",
    "data": [
        {
            "ratePair": "USD/JPY",
            "price": 110.2141,
            "time": "2019-05-23T03:27:31.000+0000"
        },
        {
            "ratePair": "USD/KRW",
            "price": 1189.5517,
            "time": "2019-05-23T03:27:31.000+0000"
        },
        ...
    ]
}
```

### 币种法币价格
```
GET  /price/v1/coin/price
```

#### 返回说明
```
{
    "s": "ok",
    "data": [
        {
            "coin": "BTC",
            "legalAmount": {
                "usd": "7750.15",
                "cny": "53400.8585",
                "jpy": "838318.2252"
            }
        },
        {
            "coin": "ETH",
            "legalAmount": {
                "usd": "240.79",
                "cny": "1659.1153",
                "jpy": "26045.7727"
            }
        }
    ]
}
```

## 错误代码说明

### 交易所(旧)
| code                                   | 说明                             |
|--------------------------------------- |-------------------------------- |
| EX_SYSTEM_ERROR                        | 系统繁忙                          |
| EX_INTERNAL_ERROR                      | 系统内部错误                       |
| EX_MISSING_ARGUMENT                    | 缺少参数                          |
| EX_ARGUMENT_TYPE_MISMATCH              | 参数类型错误                       |
| EX_ILLEGAL_ARGUMENT                    | 参数错误                          |
| EX_AUTH_CUSTOMER_NOT_LOGIN             | 未登录                            |
| EX_AUTH_SESSION_EXPIRED                | 登录已过期                         |
| EX_MISSING_MOBILE                      | 手机号为空                         |
| EX_INVALID_MOBILE                      | 手机号无效                         |
| EX_MISSING_V_CODE                      | 缺少验证码                         |
| EX_SEND_V_CODE_FAILURE                 | 验证码发送失败                      |
| EX_VERIFY_V_CODE_FAILURE               | 验证码校验失败                      |
| EX_MISSING_LOGIN_PASSWORD              | 缺少登录密码                        |
| EX_INVALID_LOGIN_PASSWORD              | 登录密码无效                       |
| EX_CUSTOMER_NOT_FOUND                  | 用户不存在                         |
| EX_MOBILE_REGISTERED_ALREADY           | 该手机号已注册                      |
| EX_INVITER_NOT_FOUND                   | 邀请人未找到                        |
| EX_CUSTOMER_MOBILE_NOT_SET             | 用户手机号未设置                    |
| EX_DEPOSIT_NOT_ALLOWED                 | 禁止入币                          |
| EX_WITHDRAW_NOT_ALLOWED                | 禁止提币                          |
| EX_TRADE_NOT_ALLOWED                   | 禁止交易                          |
| EX_AUTH_AUTHENTICATION_FAILURE         | 认证失败                          |
| EX_AUTH_ACCOUNT_LOCKED                 | 账户已被锁定                       |
| EX_AUTH_ACCOUNT_DISABLED               | 账户已被冻结                       |
| EX_AUTH_ACCOUNT_EXPIRED                | 账户已过期                         |
| EX_AUTH_BAD_CREDENTIALS                | 密码错误                           |
| EX_AUTH_INCORRECT_V_CODE               | 验证码错误                         |
| EX_AUTH_VERIFY_V_CODE_FAILURE          | 验证码校验失败                      |
| EX_AUTH_CREDENTIALS_EXPIRED            | 密码已过期                         |
| EX_AUTH_LOGIN_PASSWORD_NOT_SET         | 登录密码未设置                      |
| EX_AUTH_CUSTOMER_NOT_FOUND             | 用户未找到                         |
| EX_AUTH_BAD_CAPTCHA                    | 极验验证失败                       |
| EX_DEPOSIT_FAILURE                     | 用户入币失败                       |
| EX_WITHDRAW_FAILURE                    | 用户提币失败                       |
| EX_MISSING_ENTRUST_DIR                 | 缺少委托方向                       |
| EX_MISSING_ENTRUST_PRICE               | 缺少委托单价                       |
| EX_MISSING_ENTRUST_NUM                 | 缺少委托数量                       |
| EX_INVALID_ENTRUST_NUM                 | 无效的委托数量                     |
| EX_ENTRUST_NOT_FOUND                   | 委托单未找到                       |
| EX_MISSING_COIN_PAIR                   | 缺少货币对                         |
| EX_COIN_PAIR_NOT_OPEN                  | 货币对未开放交易                    |
| EX_ENTRUST_CREATE_FAILURE              | 委托单创建失败                      |
| EX_ENTRUST_CANCEL_FAILURE              | 委托单撤销失败                      |
| EX_ENTRUST_CAN_NOT_CANCEL              | 委托单不能撤销                       |
| EX_ENTRUST_CAN_NOT_CANCEL_BY_FINISHED  | 委托已成交，不能撤销                  |
| EX_ENTRUST_CAN_NOT_CANCEL_BY_CANCELED  | 委托已撤销，不能重复操作               |
| EX_ENTRUST_CAN_NOT_CANCEL_BY_CANCELING | 委托撤销中，不能重复操作               |
| EX_ENTRUST_CAN_NOT_CREATE_BY_CREATING  | 委托创建中，不能重复操作               |
| EX_ACCOUNT_NOT_ACTIVATED               | 该币种账户未激活                      |
| EX_ACCOUNT_NOT_ENOUGH                  | 该币种账户余额不足                     |
| EX_INVALID_TRADE_FLOW_SIZE             | 无效的交易流水数目                     |
| EX_MARKET_NOT_OPEN                     | 市场已关闭                           |
| EX_PRODUCT_COIN_NOT_FOUND              | 商品币不存在                         |
| EX_CURRENCY_COIN_NOT_FOUND             | 计价货币不存在                        |
| EX_COIN_PAIR_NOT_FOUND                 | 货币对未找到                         |
| EX_PRODUCT_COIN_ALREADY_EXISTED        | 商品货币已经存在                      |
| EX_COIN_PAIR_ALREADY_EXISTED           | 货币对已经存在                        |
| EX_MISSING_COIN_CODE                   | 缺少币                               |
| EX_MISSING_PRODUCT_COIN_STRIDE         | 缺少步伐                              |
| EX_MISSING_PRODUCT_COIN_MIN_AMOUNT     | 缺少最小成交数量                       |
| EX_MISSING_PRODUCT_COIN_ID             | 缺少商品币ID                          |
| EX_MISSING_CURRENCY_COIN_ID            | 缺少货币ID                            |
| EX_MISSING_PRODUCT_RATE                | 缺少商品币手续费率                      |
| EX_MISSING_CURRENCY_RATE               | 缺少货币手续费率                       |
| EX_MISSING_PRICE_SCALE                 | 缺少报价精度                           |
| EX_PRICE_SCALE_CANNOT_LESS_THAN_ZERO   | 报价精度不能小于0                      |
| EX_STRIDE_ADD_COIN_PAIR_EXCEED_SCALE   | 步伐和货币对的报价精度和超出币种精度     |
| EX_PRODUCT_CANNOT_BE_SAME_AS_CURRENCY  | 商品币和计价币不能相同                  |
| EX_MISSING_TRANSFER_AMOUNT             | 缺少转账金额                         |
| EX_INVALID_CHANNEL_CODE                | 无效的渠道代码                       |
| EX_CHANNEL_NOT_FOUND                   | 渠道不存在                           |
| EX_WP_ACCOUNT_ALREADY_ACTIVATED        | 微盘账号已激活                       |
| EX_WP_ACCOUNT_ACTIVATE_FAILED          | 微盘账号激活失败                      |
| EX_WP_ACCOUNT_NOT_ACTIVATED            | 微盘账号未激活                        |
| EX_WP_ACCOUNT_LOGIN_FAILED             | 微盘账号登录失败                      |
| EX_WP_OPERATION_ERROR                  | 微盘操作失败                         |
| EX_NOTICE_NOT_FOUND                    | 公告不存在                           |
| EX_WHALE_BANK_UNBOUND                  | 未绑定小鲸库                          |
| EX_CHANNEL_COIN_PAIR_ALREADY_EXISTED   | 此渠道下已存在此交易货币对             |
| EX_CHANNEL_COIN_PAIR_NOT_FOUND         | 渠道的交易货币对信息不存在              |
| EX_MISSING_CHANNEL_NAME                | 缺少渠道名                             |
| EX_MISSING_CHANNEL_CODE                | 缺少渠道代码                          |
| EX_INVALID_CHANNEL_CODE                | 无效的渠道代码                        |
| EX_MISSING_CUSTOMER                    | 未选择用户                            |
| EX_IEO_GOODS_NOT_FOUND                 | IEO商品未找到                         |
| EX_IEO_ORDER_NOT_FOUND                 | IEO订单未找到                         |
| EX_IEO_NOT_ENOUGH_REAL_NAME_LEVEL      | IEO实名级别不够                       |
| EX_IEO_BROKEN_TIMES_EXCEEDED           | 违约次数达到上限                       |
| EX_IEO_NOT_ENOUGH_CAPITAL              | 资产未达要求                          |
| EX_IEO_MISSING_ORDER_AMOUNT            | IEO缺少申购数量                       |
| EX_IEO_INVALID_ORDER_AMOUNT            | IEO无效的申购数量                      |
| EX_IEO_NOT_SUBSCRIPTION_TIME           | IEO当前不是申购时间                    |
| EX_IEO_LEFT_QUOTA_NOT_ENOUGH           | IEO可申购额度不足                     |
| EX_IEO_LEFT_AMOUNT_NOT_ENOUGH          | IEO剩余数量不足                       |
| EX_REAL_NAME_LEVEL_ONE_NOT_CONFIRMED   | 未通过一级实名认证                     |
| EX_REAL_NAME_ALREADY_CONFIRMED         | 实名认证已通过                        |
| EX_REAL_NAME_UNDER_REVIEW              | 实名认证审核中                        |
| EX_REAL_NAME_MISSING_NAME              | 缺少姓名                             |
| EX_REAL_NAME_MISSING_CERT_NO           | 缺少证件号                           |
| EX_REAL_NAME_MISSING_FRONT_PHOTO_URL   | 缺少正面证件照                        |
| EX_REAL_NAME_MAX_KYC_TIMES_EXCEEDED    | kyc次数超过上限                       |
| EX_RECHARGE_DEPOSIT_ORDER_NOT_FOUND    | 法币入金订单未找到                     |
| EX_RECHARGE_CURRENCY_RATE_NOT_FOUND    | 兑换价未找到                          |
| EX_RECHARGE_MISSING_CURRENCY           | 缺少付款法币                          |
| EX_RECHARGE_MISSING_DEPOSIT_WAY        | 缺少付款方式                          |
| EX_RECHARGE_INVALID_DEPOSIT_WAY        | 无效的付款方式                        |
| EX_RECHARGE_MISSING_AMOUNT             | 缺少付款金额                          |
| EX_RECHARGE_INVALID_AMOUNT             | 无效的付款金额                        |
| EX_RECHARGE_TOO_LONG_COMMENT           | 备注过长                             |
| EX_RECHARGE_TOO_LONG_ADDITION_INFO     | 附加信息过长                          |
| EX_RECHARGE_MISSING_EXCHANGE_PRICE     | 缺少兑换价                           |
| EX_RECHARGE_LESS_THAN_MIN_AMOUNT       | 付款金额低于最低限额                   |
| EX_RECHARGE_GREATER_THAN_MAX_AMOUNT    | 高于最大入币额度                       |
| EX_RECHARGE_PAY_FAILED                 | 付款失败                             |
| EX_RECHARGE_MISSING_PAYMENT_TYPE       | 缺少支付类型                          |
| EX_RECHARGE_AMOUNT_NEED_INTEGER        | 金额需整数                           |
| EX_RECHARGE_MISSING_BANK               | 缺少银行                             |
| EX_RECHARGE_MISSING_MOBILE             | 缺少手机号                           |
| EX_RECHARGE_MISSING_NAME               | 缺少姓名                             |
| EX_RECHARGE_MISSING_CARD_ID            | 缺少证件号                           |
| EX_RECHARGE_MISSING_REDIRECT_URL       | 缺少重定向地址                        |
| EX_RECHARGE_INVALID_PAYMENT_TYPE       | 无效的支付类型                        |
| EX_RECHARGE_EXCHANGE_PRICE_CHANGED     | 兑换价格已改变                        |
| EX_RECHARGE_CURRENCY_NOT_FOUND         | 付款币未找到                          |
| EX_RECHARGE_DEPOSIT_TIMES_UPPER_LIMIT  | 用户进行中的订单数已达上限,无法下单      |
| EX_RECHARGE_NOT_TAIWAN_MOBILE          | 非台湾用户                            |
| EX_INVALID_REPORT_TYPE                 | 无效的报表类型                        |
| EX_AGENT_NOT_FOUND                     | 经纪人未找到                          |

### 小鲸库(OAuth2)
| code                                   | 说明                             |
|----------------------------------------|---------------------------------|
| missing_argument                       | 缺少参数                          |
| illegal_argument                       | 错误的参数                         |
| verifying_vcode_failure                | 验证码校验失败                      |
| sending_too_frequent                   | 验证码发送频繁                      |
| system_error                           | 系统繁忙                           |
| real_name_too_long                     | 实名过长                           |
| cert_no_too_long                       | 身份证号过长                        |
| unsupported_coin                       | 不支持的币种                        |
| rnv_level_1_required                   | 需要一级实名                        |
| invalid_withdrawal_address             | 无效的提币地址                      |
| insufficient_avail                     | 可用余额不足                        |
| withdrawal_amount_too_small            | 提币数额过小                        |
| own_account                            | 自己的账户                          |
| invalid_address                        | 无效的地址                          |
| comment_too_long                       | 备注过长                           |
| invalid_amount                         | 无效的数额                          |
| invalid_min_amount                     | 无效的最小数额                      |
| invalid_min_credit                     | 无效的最低信用分                     |
| invalid_minutes                        | 无效的有效时间                      |
| user_on_blacklist                      | 黑名单用户                          |
| credit_not_enough                      | 信用分不足                          |
| ad_published_already                   | 已发布过广告                        |
| no_payment_option                      | 无收款方式                          |
| invalid_price                          | 无效的价格                          |
| price_out_of_range                     | 价格超出范围                        |
| own_order                              | 自己的订单                          |
| less_than_min_amount                   | 低于最小数额                        |
| order_state_changed                    | 订单状态已改变                      |
| reminder_too_frequent                  | 提醒过于频繁                        |
| invalid_vcode                          | 无效的验证码                        |
| invalid_appeal_reason                  | 无效的申诉理由                      |
| appeal_reason_too_long                 | 申诉理由过长                        |
| can_not_appeal                         | 当前不能申诉                        |
| insufficient_ad_remaining_amount       | 广告余额不足                        |
| ad_price_changed                       | 广告价格已改变                       |
| ad_state_changed                       | 广告状态已改变                       |
| insufficient_ad_avail                  | 卖方账户余额不足                     |
| invalid_payment_type                   | 无效的收款方式                       |
| invalid_payment_name                   | 无效的收款人姓名                      |
| payment_name_too_long                  | 收款人姓名过长                       |
| account_too_long                       | 账号过长                            |
| invalid_account                        | 无效的账号                         |
| payment_type_exists                    | 收款方式已设置                      |
| payment_option_not_found               | 收款方式不存在                      |
| bank_too_long                          | 银行过长                           |
| bank_branch_too_long                   | 开户支行过长                        |
| invalid_bank                           | 无效的银行                         |
| payee_not_found                        | 收款人不存在                        |
| illegal_operation                      | 非法操作                           |
| rnv_max_retries_exceeded               | kyc次数超过上限                     |